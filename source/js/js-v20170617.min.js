(function(window,document,undefined){"use strict";var mdui={};(function(){var lastTime=0;if(!window.requestAnimationFrame){window.requestAnimationFrame=window.webkitRequestAnimationFrame;window.cancelAnimationFrame=window.webkitCancelAnimationFrame}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16.7-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id)}}})();var $=function(window,document,undefined){"use strict";var emptyArray=[];var slice=emptyArray.slice;var concat=emptyArray.concat;var isArray=Array.isArray;var documentElement=document.documentElement;function isArrayLike(obj){return typeof obj.length==="number"}function each(obj,callback){var i;var prop;if(isArrayLike(obj)){for(i=0;i<obj.length;i++){if(callback.call(obj[i],i,obj[i])===false){return obj}}}else{for(prop in obj){if(obj.hasOwnProperty(prop)){if(callback.call(obj[prop],prop,obj[prop])===false){return obj}}}}return obj}function map(elems,callback){var value;var ret=[];each(elems,function(i,elem){value=callback(elem,i);if(value!==null&&value!==undefined){ret.push(value)}});return concat.apply([],ret)}function merge(first,second){each(second,function(i,val){first.push(val)});return first}function unique(arr){var unique=[];for(var i=0;i<arr.length;i++){if(unique.indexOf(arr[i])===-1){unique.push(arr[i])}}return unique}function isNull(obj){return obj===null}function nodeName(ele,name){return ele.nodeName&&ele.nodeName.toLowerCase()===name.toLowerCase()}function isFunction(fn){return typeof fn==="function"}function isString(obj){return typeof obj==="string"}function isObject(obj){return typeof obj==="object"}function isObjectLike(obj){return isObject(obj)&&!isNull(obj)}function isWindow(win){return win&&win===win.window}function isDocument(doc){return doc&&doc.nodeType===doc.DOCUMENT_NODE}var elementDisplay={};function defaultDisplay(nodeName){var element;var display;if(!elementDisplay[nodeName]){element=document.createElement(nodeName);document.body.appendChild(element);display=getComputedStyle(element,"").getPropertyValue("display");element.parentNode.removeChild(element);if(display==="none"){display="block"}elementDisplay[nodeName]=display}return elementDisplay[nodeName]}var JQ=function(arr){var _this=this;for(var i=0;i<arr.length;i++){_this[i]=arr[i]}_this.length=arr.length;return this};var $=function(selector){var arr=[];var i=0;if(!selector){return new JQ(arr)}if(selector instanceof JQ){return selector}if(isString(selector)){var els;var tempParent;selector=selector.trim();if(selector[0]==="<"&&selector[selector.length-1]===">"){var toCreate="div";if(selector.indexOf("<li")===0){toCreate="ul"}if(selector.indexOf("<tr")===0){toCreate="tbody"}if(selector.indexOf("<td")===0||selector.indexOf("<th")===0){toCreate="tr"}if(selector.indexOf("<tbody")===0){toCreate="table"}if(selector.indexOf("<option")===0){toCreate="select"}tempParent=document.createElement(toCreate);tempParent.innerHTML=selector;for(i=0;i<tempParent.childNodes.length;i++){arr.push(tempParent.childNodes[i])}}else{if(selector[0]==="#"&&!selector.match(/[ .<>:~]/)){els=[document.getElementById(selector.slice(1))]}else{els=document.querySelectorAll(selector)}for(i=0;i<els.length;i++){if(els[i]){arr.push(els[i])}}}}else if(isFunction(selector)){return $(document).ready(selector)}else if(selector.nodeType||selector===window||selector===document){arr.push(selector)}else if(selector.length>0&&selector[0].nodeType){for(i=0;i<selector.length;i++){arr.push(selector[i])}}return new JQ(arr)};$.fn=JQ.prototype;$.extend=$.fn.extend=function(obj){if(obj===undefined){return this}var length=arguments.length;var prop;var i;var options;if(length===1){for(prop in obj){if(obj.hasOwnProperty(prop)){this[prop]=obj[prop]}}return this}for(i=1;i<length;i++){options=arguments[i];for(prop in options){if(options.hasOwnProperty(prop)){obj[prop]=options[prop]}}}return obj};$.extend({each:each,merge:merge,unique:unique,map:map,contains:function(parent,node){if(parent&&!node){return documentElement.contains(parent)}return parent!==node&&parent.contains(node)},param:function(obj){if(!isObjectLike(obj)){return""}var args=[];each(obj,function(key,value){destructure(key,value)});return args.join("&");function destructure(key,value){var keyTmp;if(isObjectLike(value)){each(value,function(i,v){if(isArray(value)&&!isObjectLike(v)){keyTmp=""}else{keyTmp=i}destructure(key+"["+keyTmp+"]",v)})}else{if(!isNull(value)&&value!==""){keyTmp="="+encodeURIComponent(value)}else{keyTmp=""}args.push(encodeURIComponent(key)+keyTmp)}}}});$.fn.extend({each:function(callback){return each(this,callback)},map:function(callback){return new JQ(map(this,function(el,i){return callback.call(el,i,el)}))},get:function(index){return index===undefined?slice.call(this):this[index>=0?index:index+this.length]},slice:function(argument){return new JQ(slice.apply(this,arguments))},filter:function(selector){if(isFunction(selector)){return this.map(function(index,ele){return selector.call(ele,index,ele)?ele:undefined})}else{var $selector=$(selector);return this.map(function(index,ele){return $selector.index(ele)>-1?ele:undefined})}},not:function(selector){var $excludes=this.filter(selector);return this.map(function(index,ele){return $excludes.index(ele)>-1?undefined:ele})},offset:function(){if(this[0]){var offset=this[0].getBoundingClientRect();return{left:offset.left+window.pageXOffset,top:offset.top+window.pageYOffset,width:offset.width,height:offset.height}}return null},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&$(offsetParent).css("position")==="static"){offsetParent=offsetParent.offsetParent}return offsetParent||documentElement})},position:function(){var _this=this;if(!_this[0]){return null}var offsetParent;var offset;var parentOffset={top:0,left:0};if(_this.css("position")==="fixed"){offset=_this[0].getBoundingClientRect()}else{offsetParent=_this.offsetParent();offset=_this.offset();if(!nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset={top:parentOffset.top+offsetParent.css("borderTopWidth"),left:parentOffset.left+offsetParent.css("borderLeftWidth")}}return{top:offset.top-parentOffset.top-_this.css("marginTop"),left:offset.left-parentOffset.left-_this.css("marginLeft"),width:offset.width,height:offset.height}},show:function(){return this.each(function(){if(this.style.display==="none"){this.style.display=""}if(window.getComputedStyle(this,"").getPropertyValue("display")==="none"){this.style.display=defaultDisplay(this.nodeName)}})},hide:function(){return this.each(function(){this.style.display="none"})},toggle:function(){return this.each(function(){this.style.display=this.style.display==="none"?"":"none"})},hasClass:function(className){if(!this[0]||!className){return false}return this[0].classList.contains(className)},removeAttr:function(attr){return this.each(function(){this.removeAttribute(attr)})},removeProp:function(name){return this.each(function(){try{delete this[name]}catch(e){}})},eq:function(index){var ret=index===-1?this.slice(index):this.slice(index,+index+1);return new JQ(ret)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},index:function(ele){if(!ele){return this.eq(0).parent().children().get().indexOf(this[0])}else if(isString(ele)){return $(ele).eq(0).parent().children().get().indexOf(this[0])}else{return this.get().indexOf(ele)}},is:function(selector){var _this=this[0];if(!_this||selector===undefined||selector===null){return false}var $compareWith;var i;if(isString(selector)){if(_this===document||_this===window){return false}var matchesSelector=_this.matches||_this.matchesSelector||_this.webkitMatchesSelector||_this.mozMatchesSelector||_this.oMatchesSelector||_this.msMatchesSelector;return matchesSelector.call(_this,selector)}else if(selector===document||selector===window){return _this===selector}else{if(selector.nodeType||isArrayLike(selector)){$compareWith=selector.nodeType?[selector]:selector;for(i=0;i<$compareWith.length;i++){if($compareWith[i]===_this){return true}}return false}return false}},find:function(selector){var foundElements=[];this.each(function(i,_this){merge(foundElements,_this.querySelectorAll(selector))});return new JQ(foundElements)},children:function(selector){var children=[];this.each(function(i,_this){each(_this.childNodes,function(i,childNode){if(childNode.nodeType!==1){return true}if(!selector||selector&&$(childNode).is(selector)){children.push(childNode)}})});return new JQ(unique(children))},has:function(selector){var $targets=isString(selector)?this.find(selector):$(selector);var len=$targets.length;return this.filter(function(){for(var i=0;i<len;i++){if($.contains(this,$targets[i])){return true}}})},siblings:function(selector){return this.prevAll(selector).add(this.nextAll(selector))},closest:function(selector){var _this=this;if(!_this.is(selector)){_this=_this.parents(selector).eq(0)}return _this},remove:function(){return this.each(function(i,_this){if(_this.parentNode){_this.parentNode.removeChild(_this)}})},add:function(selector){return new JQ(unique(merge(this.get(),$(selector))))},empty:function(){return this.each(function(){this.innerHTML=""})},clone:function(){return this.map(function(){return this.cloneNode(true)})},replaceWith:function(newContent){return this.before(newContent).remove()},serializeArray:function(){var result=[];var $ele;var type;var ele=this[0];if(!ele||!ele.elements){return result}$(slice.call(ele.elements)).each(function(){$ele=$(this);type=$ele.attr("type");if(this.nodeName.toLowerCase()!=="fieldset"&&!this.disabled&&["submit","reset","button"].indexOf(type)===-1&&(["radio","checkbox"].indexOf(type)===-1||this.checked)){result.push({name:$ele.attr("name"),value:$ele.val()})}});return result},serialize:function(){var result=[];each(this.serializeArray(),function(i,elm){result.push(encodeURIComponent(elm.name)+"="+encodeURIComponent(elm.value))});return result.join("&")}});each(["val","html","text"],function(nameIndex,name){var props={0:"value",1:"innerHTML",2:"textContent"};var defaults={0:undefined,1:undefined,2:null};$.fn[name]=function(value){if(value===undefined){return this[0]?this[0][props[nameIndex]]:defaults[nameIndex]}else{return this.each(function(i,ele){ele[props[nameIndex]]=value})}}});each(["attr","prop","css"],function(nameIndex,name){var set=function(ele,key,value){if(nameIndex===0){ele.setAttribute(key,value)}else if(nameIndex===1){ele[key]=value}else{ele.style[key]=value}};var get=function(ele,key){if(!ele){return undefined}var value;if(nameIndex===0){value=ele.getAttribute(key)}else if(nameIndex===1){value=ele[key]}else{value=window.getComputedStyle(ele,null).getPropertyValue(key)}return value};$.fn[name]=function(key,value){var argLength=arguments.length;if(argLength===1&&isString(key)){return get(this[0],key)}else{return this.each(function(i,ele){if(argLength===2){set(ele,key,value)}else{each(key,function(k,v){set(ele,k,v)})}})}}});each(["add","remove","toggle"],function(nameIndex,name){$.fn[name+"Class"]=function(className){if(!className){return this}var classes=className.split(" ");return this.each(function(i,ele){each(classes,function(j,cls){ele.classList[name](cls)})})}});each({Width:"width",Height:"height"},function(prop,name){$.fn[name]=function(val){if(val===undefined){var ele=this[0];if(isWindow(ele)){return ele["inner"+prop]}if(isDocument(ele)){return ele.documentElement["scroll"+prop]}var $ele=$(ele);var IEFixValue=0;if("ActiveXObject"in window){if($ele.css("box-sizing")==="border-box"){IEFixValue=parseFloat($ele.css("padding-"+(name==="width"?"left":"top")))+parseFloat($ele.css("padding-"+(name==="width"?"right":"bottom")))}}return parseFloat($(ele).css(name))+IEFixValue}else{if(!isNaN(Number(val))&&val!==""){val+="px"}return this.css(name,val)}}});each({Width:"width",Height:"height"},function(prop,name){$.fn["inner"+prop]=function(){var value=this[name]();var $ele=$(this[0]);if($ele.css("box-sizing")!=="border-box"){value+=parseFloat($ele.css("padding-"+(name==="width"?"left":"top")));value+=parseFloat($ele.css("padding-"+(name==="width"?"right":"bottom")))}return value}});var dir=function(nodes,selector,nameIndex,node){var ret=[];var ele;nodes.each(function(j,_this){ele=_this[node];while(ele){if(nameIndex===2){if(!selector||selector&&$(ele).is(selector)){break}ret.push(ele)}else if(nameIndex===0){if(!selector||selector&&$(ele).is(selector)){ret.push(ele)}break}else{if(!selector||selector&&$(ele).is(selector)){ret.push(ele)}}ele=ele[node]}});return new JQ(unique(ret))};each(["","All","Until"],function(nameIndex,name){$.fn["prev"+name]=function(selector){var $nodes=nameIndex===0?this:$(this.get().reverse());return dir($nodes,selector,nameIndex,"previousElementSibling")}});each(["","All","Until"],function(nameIndex,name){$.fn["next"+name]=function(selector){return dir(this,selector,nameIndex,"nextElementSibling")}});each(["","s","sUntil"],function(nameIndex,name){$.fn["parent"+name]=function(selector){var $nodes=nameIndex===0?this:$(this.get().reverse());return dir($nodes,selector,nameIndex,"parentNode")}});each(["append","prepend"],function(nameIndex,name){$.fn[name]=function(newChild){var newChilds;var copyByClone=this.length>1;if(isString(newChild)){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;newChilds=slice.call(tempDiv.childNodes)}else{newChilds=$(newChild).get()}if(nameIndex===1){newChilds.reverse()}return this.each(function(i,_this){each(newChilds,function(j,child){if(copyByClone&&i>0){child=child.cloneNode(true)}if(nameIndex===0){_this.appendChild(child)}else{_this.insertBefore(child,_this.childNodes[0])}})})}});each(["insertBefore","insertAfter"],function(nameIndex,name){$.fn[name]=function(selector){var $ele=$(selector);return this.each(function(i,_this){$ele.each(function(j,ele){ele.parentNode.insertBefore($ele.length===1?_this:_this.cloneNode(true),nameIndex===0?ele:ele.nextSibling)})})}});each({appendTo:"append",prependTo:"prepend",before:"insertBefore",after:"insertAfter",replaceAll:"replaceWith"},function(name,original){$.fn[name]=function(selector){$(selector)[original](this);return this}});(function(){var dataNS="mduiElementDataStorage";$.extend({data:function(ele,key,value){var data={};if(value!==undefined){data[key]=value}else if(isObjectLike(key)){data=key}else if(key===undefined){var result={};each(ele.attributes,function(i,attribute){var name=attribute.name;if(name.indexOf("data-")===0){var prop=name.slice(5).replace(/-./g,function(u){return u.charAt(1).toUpperCase()});result[prop]=attribute.value}});if(ele[dataNS]){each(ele[dataNS],function(k,v){result[k]=v})}return result}else{if(ele[dataNS]&&key in ele[dataNS]){return ele[dataNS][key]}else{var dataKey=ele.getAttribute("data-"+key);if(dataKey){return dataKey}else{return undefined}}}if(!ele[dataNS]){ele[dataNS]={}}each(data,function(k,v){ele[dataNS][k]=v})},removeData:function(ele,key){if(ele[dataNS]&&ele[dataNS][key]){ele[dataNS][key]=null;delete ele.mduiElementDataStorage[key]}}});$.fn.extend({data:function(key,value){if(value===undefined){if(this[0]){return $.data(this[0],key)}else{return undefined}}else{return this.each(function(i,ele){$.data(ele,key,value)})}},removeData:function(key){return this.each(function(i,ele){$.removeData(ele,key)})}})})();(function(){var handlers={};var _elementId=1;var fnFalse=function(){return false};$.fn.extend({ready:function(callback){if(/complete|loaded|interactive/.test(document.readyState)&&document.body){callback($)}else{document.addEventListener("DOMContentLoaded",function(){callback($)},false)}return this},on:function(eventName,selector,data,callback,one){var _this=this;if(eventName&&!isString(eventName)){each(eventName,function(type,fn){_this.on(type,selector,data,fn)});return _this}if(!isString(selector)&&!isFunction(callback)&&callback!==false){callback=data;data=selector;selector=undefined}if(isFunction(data)||data===false){callback=data;data=undefined}if(callback===false){callback=fnFalse}if(one===1){var origCallback=callback;callback=function(){_this.off(eventName,selector,callback);return origCallback.apply(this,arguments)}}return this.each(function(){add(this,eventName,callback,data,selector)})},one:function(eventName,selector,data,callback){var _this=this;if(!isString(eventName)){each(eventName,function(type,fn){type.split(" ").forEach(function(eName){_this.on(eName,selector,data,fn,1)})})}else{eventName.split(" ").forEach(function(eName){_this.on(eName,selector,data,callback,1)})}return this},off:function(eventName,selector,callback){var _this=this;if(eventName&&!isString(eventName)){each(eventName,function(type,fn){_this.off(type,selector,fn)});return _this}if(!isString(selector)&&!isFunction(callback)&&callback!==false){callback=selector;selector=undefined}if(callback===false){callback=fnFalse}return _this.each(function(){remove(this,eventName,callback,selector)})},trigger:function(eventName,data){if(!isString(eventName)){return}var evt;try{evt=new CustomEvent(eventName,{detail:data,bubbles:true,cancelable:true})}catch(e){evt=document.createEvent("Event");evt.initEvent(eventName,true,true);evt.detail=data}evt._data=data;return this.each(function(){this.dispatchEvent(evt)})}});function add(element,eventName,func,data,selector){var elementId=getElementId(element);if(!handlers[elementId]){handlers[elementId]=[]}var useCapture=false;if(isObjectLike(data)&&data.useCapture){useCapture=true}eventName.split(" ").forEach(function(event){var handler={e:event,fn:func,sel:selector,i:handlers[elementId].length};var callFn=function(e,ele){var result=func.apply(ele,e._data===undefined?[e]:[e].concat(e._data));if(result===false){e.preventDefault();e.stopPropagation()}};var proxyfn=handler.proxy=function(e){e.data=data;if(selector){$(element).find(selector).get().reverse().forEach(function(ele){if(ele===e.target||$.contains(ele,e.target)){callFn(e,ele)}})}else{callFn(e,element)}};handlers[elementId].push(handler);element.addEventListener(handler.e,proxyfn,useCapture)})}function remove(element,eventName,func,selector){(eventName||"").split(" ").forEach(function(event){getHandlers(element,event,func,selector).forEach(function(handler){delete handlers[getElementId(element)][handler.i];element.removeEventListener(handler.e,handler.proxy,false)})})}function getElementId(element){return element._elementId||(element._elementId=_elementId++)}function getHandlers(element,eventName,func,selector){return(handlers[getElementId(element)]||[]).filter(function(handler){return handler&&(!eventName||handler.e===eventName)&&(!func||handler.fn.toString()===func.toString())&&(!selector||handler.sel===selector)})}})();return $}(window,document);var $document=$(document);var $window=$(window);var queue={};(function(){var queueData=[];queue.queue=function(queueName,func){if(queueData[queueName]===undefined){queueData[queueName]=[]}if(func===undefined){return queueData[queueName]}queueData[queueName].push(func)};queue.dequeue=function(queueName){if(queueData[queueName]!==undefined&&queueData[queueName].length){queueData[queueName].shift()()}}})();var TouchHandler={touches:0,isAllow:function(e){var allow=true;if(TouchHandler.touches&&["mousedown","mouseup","mousemove","click","mouseover","mouseout","mouseenter","mouseleave"].indexOf(e.type)>-1){allow=false}return allow},register:function(e){if(e.type==="touchstart"){TouchHandler.touches+=1}else if(["touchmove","touchend","touchcancel"].indexOf(e.type)>-1){setTimeout(function(){if(TouchHandler.touches){TouchHandler.touches-=1}},500)}},start:"touchstart mousedown",move:"touchmove mousemove",end:"touchend mouseup",cancel:"touchcancel mouseleave",unlock:"touchend touchmove touchcancel"};$(function(){setTimeout(function(){$("body").addClass("mdui-loaded")},0)});var parseOptions=function(str){var options={};if(str===null||!str){return options}if(typeof str==="object"){return str}var start=str.indexOf("{");try{options=new Function("","var json = "+str.substr(start)+"; return JSON.parse(JSON.stringify(json));")()}catch(e){}return options};var componentEvent=function(eventName,pluginName,inst,trigger,obj){if(!obj){obj={}}obj.inst=inst;var fullEventName=eventName+".mdui."+pluginName;if(typeof jQuery!=="undefined"){jQuery(trigger).trigger(fullEventName,obj)}$(trigger).trigger(fullEventName,obj)};$.fn.extend({reflow:function(){return this.each(function(){return this.clientLeft})},transition:function(duration){if(typeof duration!=="string"){duration=duration+"ms"}return this.each(function(){this.style.webkitTransitionDuration=duration;this.style.transitionDuration=duration})},transitionEnd:function(callback){var events=["webkitTransitionEnd","transitionend"];var i;var _this=this;function fireCallBack(e){if(e.target!==this){return}callback.call(this,e);for(i=0;i<events.length;i++){_this.off(events[i],fireCallBack)}}if(callback){for(i=0;i<events.length;i++){_this.on(events[i],fireCallBack)}}return this},transformOrigin:function(transformOrigin){return this.each(function(){this.style.webkitTransformOrigin=transformOrigin;this.style.transformOrigin=transformOrigin})},transform:function(transform){return this.each(function(){this.style.webkitTransform=transform;this.style.transform=transform})}});$.extend({showOverlay:function(zIndex){var $overlay=$(".mdui-overlay");if($overlay.length){$overlay.data("isDeleted",0);if(zIndex!==undefined){$overlay.css("z-index",zIndex)}}else{if(zIndex===undefined){zIndex=2e3}$overlay=$('<div class="mdui-overlay">').appendTo(document.body).reflow().css("z-index",zIndex)}var level=$overlay.data("overlay-level")||0;return $overlay.data("overlay-level",++level).addClass("mdui-overlay-show")},hideOverlay:function(force){var $overlay=$(".mdui-overlay");if(!$overlay.length){return}var level=force?1:$overlay.data("overlay-level");if(level>1){$overlay.data("overlay-level",--level);return}$overlay.data("overlay-level",0).removeClass("mdui-overlay-show").data("isDeleted",1).transitionEnd(function(){if($overlay.data("isDeleted")){$overlay.remove()}})},lockScreen:function(){var $body=$("body");var newBodyWidth=$body.width();$body.addClass("mdui-locked").width(newBodyWidth);var level=$body.data("lockscreen-level")||0;$body.data("lockscreen-level",++level)},unlockScreen:function(force){var $body=$("body");var level=force?1:$body.data("lockscreen-level");if(level>1){$body.data("lockscreen-level",--level);return}$body.data("lockscreen-level",0).removeClass("mdui-locked").width("")},throttle:function(fn,delay){var timer=null;if(!delay||delay<16){delay=16}return function(){var _this=this;var args=arguments;if(timer===null){timer=setTimeout(function(){fn.apply(_this,args);timer=null},delay)}}},guid:function(pluginName){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}var guid=s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4();if(pluginName){guid="mdui-"+pluginName+"-"+guid}return guid}});mdui.Headroom=function(){var DEFAULT={tolerance:5,offset:0,initialClass:"mdui-headroom",pinnedClass:"mdui-headroom-pinned-top",unpinnedClass:"mdui-headroom-unpinned-top"};function Headroom(selector,opts){var _this=this;_this.$headroom=$(selector).eq(0);if(!_this.$headroom.length){return}var oldInst=_this.$headroom.data("mdui.headroom");if(oldInst){return oldInst}_this.options=$.extend({},DEFAULT,opts||{});var tolerance=_this.options.tolerance;if(tolerance!==Object(tolerance)){_this.options.tolerance={down:tolerance,up:tolerance}}_this._init()}Headroom.prototype._init=function(){var _this=this;_this.state="pinned";_this.$headroom.addClass(_this.options.initialClass).removeClass(_this.options.pinnedClass+" "+_this.options.unpinnedClass);_this.inited=false;_this.lastScrollY=0;_this._attachEvent()};Headroom.prototype._attachEvent=function(){var _this=this;if(!_this.inited){_this.lastScrollY=window.pageYOffset;_this.inited=true;$window.on("scroll",function(){_this._scroll()})}};Headroom.prototype._scroll=function(){var _this=this;_this.rafId=window.requestAnimationFrame(function(){var currentScrollY=window.pageYOffset;var direction=currentScrollY>_this.lastScrollY?"down":"up";var toleranceExceeded=Math.abs(currentScrollY-_this.lastScrollY)>=_this.options.tolerance[direction];if(currentScrollY>_this.lastScrollY&&currentScrollY>=_this.options.offset&&toleranceExceeded){_this.unpin()}else if(currentScrollY<_this.lastScrollY&&toleranceExceeded||currentScrollY<=_this.options.offset){_this.pin()}_this.lastScrollY=currentScrollY})};var transitionEnd=function(inst){if(inst.state==="pinning"){inst.state="pinned";componentEvent("pinned","headroom",inst,inst.$headroom)}if(inst.state==="unpinning"){inst.state="unpinned";componentEvent("unpinned","headroom",inst,inst.$headroom)}};Headroom.prototype.pin=function(){var _this=this;if(_this.state==="pinning"||_this.state==="pinned"||!_this.$headroom.hasClass(_this.options.initialClass)){return}componentEvent("pin","headroom",_this,_this.$headroom);_this.state="pinning";_this.$headroom.removeClass(_this.options.unpinnedClass).addClass(_this.options.pinnedClass).transitionEnd(function(){transitionEnd(_this)})};Headroom.prototype.unpin=function(){var _this=this;if(_this.state==="unpinning"||_this.state==="unpinned"||!_this.$headroom.hasClass(_this.options.initialClass)){return}componentEvent("unpin","headroom",_this,_this.$headroom);_this.state="unpinning";_this.$headroom.removeClass(_this.options.pinnedClass).addClass(_this.options.unpinnedClass).transitionEnd(function(){transitionEnd(_this)})};Headroom.prototype.enable=function(){var _this=this;if(!_this.inited){_this._init()}};Headroom.prototype.disable=function(){var _this=this;if(_this.inited){_this.inited=false;_this.$headroom.removeClass([_this.options.initialClass,_this.options.pinnedClass,_this.options.unpinnedClass].join(" "));$window.off("scroll",function(){_this._scroll()});window.cancelAnimationFrame(_this.rafId)}};Headroom.prototype.getState=function(){return this.state};return Headroom}();$(function(){$("[mdui-headroom]").each(function(){var $this=$(this);var options=parseOptions($this.attr("mdui-headroom"));var inst=$this.data("mdui.headroom");if(!inst){inst=new mdui.Headroom($this,options);$this.data("mdui.headroom",inst)}})});var CollapsePrivate=function(){var DEFAULT={accordion:false};var CLASS={item:"mdui-collapse-item",itemOpen:"mdui-collapse-item-open",header:"mdui-collapse-item-header",body:"mdui-collapse-item-body"};var NAMESPACE="collapse";function Collapse(selector,opts,classes,namespace){var _this=this;_this.classes=$.extend({},CLASS,classes||{});_this.namespace=namespace?namespace:NAMESPACE;_this.$collapse=$(selector).eq(0);if(!_this.$collapse.length){return}var oldInst=_this.$collapse.data("mdui."+_this.namespace);if(oldInst){return oldInst}_this.options=$.extend({},DEFAULT,opts||{});_this.$collapse.on("click","."+_this.classes.header,function(){var $item=$(this).parent("."+_this.classes.item);if(_this.$collapse.children($item).length){_this.toggle($item)}})}Collapse.prototype._isOpen=function($item){return $item.hasClass(this.classes.itemOpen)};Collapse.prototype._getItem=function(item){var _this=this;if(parseInt(item)===item){return _this.$collapse.children("."+_this.classes.item).eq(item)}return $(item).eq(0)};var transitionEnd=function(inst,$content,$item){if(inst._isOpen($item)){$content.transition(0).height("auto").reflow().transition("");componentEvent("opened",inst.namespace,inst,$item[0])}else{$content.height("");componentEvent("closed",inst.namespace,inst,$item[0])}};Collapse.prototype.open=function(item){var _this=this;var $item=_this._getItem(item);if(_this._isOpen($item)){return}if(_this.options.accordion){_this.$collapse.children("."+_this.classes.itemOpen).each(function(){var $tmpItem=$(this);if($tmpItem!==$item){_this.close($tmpItem)}})}var $content=$item.children("."+_this.classes.body);$content.height($content[0].scrollHeight).transitionEnd(function(){transitionEnd(_this,$content,$item)});componentEvent("open",_this.namespace,_this,$item[0]);$item.addClass(_this.classes.itemOpen)};Collapse.prototype.close=function(item){var _this=this;var $item=_this._getItem(item);if(!_this._isOpen($item)){return}var $content=$item.children("."+_this.classes.body);componentEvent("close",_this.namespace,_this,$item[0]);$item.removeClass(_this.classes.itemOpen);$content.transition(0).height($content[0].scrollHeight).reflow().transition("").height("").transitionEnd(function(){transitionEnd(_this,$content,$item)})};Collapse.prototype.toggle=function(item){var _this=this;var $item=_this._getItem(item);if(_this._isOpen($item)){_this.close($item)}else{_this.open($item)}};Collapse.prototype.openAll=function(){var _this=this;_this.$collapse.children("."+_this.classes.item).each(function(){var $tmpItem=$(this);if(!_this._isOpen($tmpItem)){_this.open($tmpItem)}})};Collapse.prototype.closeAll=function(){var _this=this;_this.$collapse.children("."+_this.classes.item).each(function(){var $tmpItem=$(this);if(_this._isOpen($tmpItem)){_this.close($tmpItem)}})};return Collapse}();mdui.Collapse=function(){function Collapse(selector,opts){return new CollapsePrivate(selector,opts)}return Collapse}();$(function(){$("[mdui-collapse]").each(function(){var $this=$(this);var options=parseOptions($this.attr("mdui-collapse"));var inst=$this.data("mdui.collapse");if(!inst){inst=new mdui.Collapse($this,options);$this.data("mdui.collapse",inst)}})});(function(){var Ripple={delay:200,show:function(e,$ripple){if(e.button===2){return}var tmp;if("touches"in e&&e.touches.length){tmp=e.touches[0]}else{tmp=e}var touchStartX=tmp.pageX;var touchStartY=tmp.pageY;var offset=$ripple.offset();var center={x:touchStartX-offset.left,y:touchStartY-offset.top};var height=$ripple.innerHeight();var width=$ripple.innerWidth();var diameter=Math.max(Math.pow(Math.pow(height,2)+Math.pow(width,2),.5),48);var translate="translate3d("+(-center.x+width/2)+"px, "+(-center.y+height/2)+"px, 0) "+"scale(1)";$('<div class="mdui-ripple-wave" style="'+"width: "+diameter+"px; "+"height: "+diameter+"px; "+"margin-top:-"+diameter/2+"px; "+"margin-left:-"+diameter/2+"px; "+"left:"+center.x+"px; "+"top:"+center.y+'px;">'+"</div>").data("translate",translate).prependTo($ripple).reflow().transform(translate)},hide:function(e,element){var $ripple=$(element||this);$ripple.children(".mdui-ripple-wave").each(function(){removeRipple($(this))});$ripple.off("touchmove touchend touchcancel mousemove mouseup mouseleave",Ripple.hide)}};function removeRipple($wave){if(!$wave.length||$wave.data("isRemoved")){return}$wave.data("isRemoved",true);var removeTimeout=setTimeout(function(){$wave.remove()},400);var translate=$wave.data("translate");$wave.addClass("mdui-ripple-wave-fill").transform(translate.replace("scale(1)","scale(1.01)")).transitionEnd(function(){clearTimeout(removeTimeout);$wave.addClass("mdui-ripple-wave-out").transform(translate.replace("scale(1)","scale(1.01)"));removeTimeout=setTimeout(function(){$wave.remove()},700);setTimeout(function(){$wave.transitionEnd(function(){clearTimeout(removeTimeout);$wave.remove()})},0)})}function showRipple(e){if(!TouchHandler.isAllow(e)){return}TouchHandler.register(e);if(e.target===document){return}var $ripple;var $target=$(e.target);if($target.hasClass("mdui-ripple")){$ripple=$target}else{$ripple=$target.parents(".mdui-ripple").eq(0)}if($ripple.length){if($ripple[0].disabled||$ripple.attr("disabled")!==null){return}if(e.type==="touchstart"){var hidden=false;var timer=setTimeout(function(){timer=null;Ripple.show(e,$ripple)},Ripple.delay);var hideRipple=function(hideEvent){if(timer){clearTimeout(timer);timer=null;Ripple.show(e,$ripple)}if(!hidden){hidden=true;Ripple.hide(hideEvent,$ripple)}};var touchMove=function(moveEvent){if(timer){clearTimeout(timer);timer=null}hideRipple(moveEvent)};$ripple.on("touchmove",touchMove).on("touchend touchcancel",hideRipple)}else{Ripple.show(e,$ripple);$ripple.on("touchmove touchend touchcancel mousemove mouseup mouseleave",Ripple.hide)}}}$document.on(TouchHandler.start,showRipple).on(TouchHandler.unlock,TouchHandler.register)})();mdui.Fab=function(){var DEFAULT={trigger:"hover"};function Fab(selector,opts){var _this=this;_this.$fab=$(selector).eq(0);if(!_this.$fab.length){return}var oldInst=_this.$fab.data("mdui.fab");if(oldInst){return oldInst}_this.options=$.extend({},DEFAULT,opts||{});_this.state="closed";_this.$btn=_this.$fab.find(".mdui-fab");_this.$dial=_this.$fab.find(".mdui-fab-dial");_this.$dialBtns=_this.$dial.find(".mdui-fab");if(_this.options.trigger==="hover"){_this.$btn.on("touchstart mouseenter",function(){_this.open()});_this.$fab.on("mouseleave",function(){_this.close()})}if(_this.options.trigger==="click"){_this.$btn.on(TouchHandler.start,function(){_this.open()})}$document.on(TouchHandler.start,function(e){if(!$(e.target).parents(".mdui-fab-wrapper").length){_this.close()}})}Fab.prototype.open=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){return}_this.$dialBtns.each(function(index,btn){btn.style["transition-delay"]=btn.style["-webkit-transition-delay"]=15*(_this.$dialBtns.length-index)+"ms"});_this.$dial.css("height","auto").addClass("mdui-fab-dial-show");if(_this.$btn.find(".mdui-fab-opened").length){_this.$btn.addClass("mdui-fab-opened")}_this.state="opening";componentEvent("open","fab",_this,_this.$fab);_this.$dialBtns.eq(0).transitionEnd(function(){if(_this.$btn.hasClass("mdui-fab-opened")){_this.state="opened";componentEvent("opened","fab",_this,_this.$fab)}})};Fab.prototype.close=function(){var _this=this;if(_this.state==="closing"||_this.state==="closed"){return}_this.$dialBtns.each(function(index,btn){btn.style["transition-delay"]=btn.style["-webkit-transition-delay"]=15*index+"ms"});_this.$dial.removeClass("mdui-fab-dial-show");_this.$btn.removeClass("mdui-fab-opened");_this.state="closing";componentEvent("close","fab",_this,_this.$fab);_this.$dialBtns.eq(-1).transitionEnd(function(){if(!_this.$btn.hasClass("mdui-fab-opened")){_this.state="closed";componentEvent("closed","fab",_this,_this.$fab);_this.$dial.css("height",0)}})};Fab.prototype.toggle=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){_this.close()}else if(_this.state==="closing"||_this.state==="closed"){_this.open()}};Fab.prototype.getState=function(){return this.state};Fab.prototype.show=function(){this.$fab.removeClass("mdui-fab-hide")};Fab.prototype.hide=function(){this.$fab.addClass("mdui-fab-hide")};return Fab}();$(function(){$document.on("touchstart mousedown mouseover","[mdui-fab]",function(e){var $this=$(this);var inst=$this.data("mdui.fab");if(!inst){var options=parseOptions($this.attr("mdui-fab"));inst=new mdui.Fab($this,options);$this.data("mdui.fab",inst)}})});$(function(){$(".mdui-appbar-scroll-hide").each(function(){var $this=$(this);$this.data("mdui.headroom",new mdui.Headroom($this))});$(".mdui-appbar-scroll-toolbar-hide").each(function(){var $this=$(this);var inst=new mdui.Headroom($this,{pinnedClass:"mdui-headroom-pinned-toolbar",unpinnedClass:"mdui-headroom-unpinned-toolbar"});$this.data("mdui.headroom",inst)})});mdui.Drawer=function(){var DEFAULT={overlay:false,swipe:false};var isDesktop=function(){return $window.width()>=1024};function Drawer(selector,opts){var _this=this;_this.$drawer=$(selector).eq(0);if(!_this.$drawer.length){return}var oldInst=_this.$drawer.data("mdui.drawer");if(oldInst){return oldInst}_this.options=$.extend({},DEFAULT,opts||{});_this.overlay=false;_this.position=_this.$drawer.hasClass("mdui-drawer-right")?"right":"left";if(_this.$drawer.hasClass("mdui-drawer-close")){_this.state="closed"}else if(_this.$drawer.hasClass("mdui-drawer-open")){_this.state="opened"}else if(isDesktop()){_this.state="opened"}else{_this.state="closed"}$window.on("resize",$.throttle(function(){if(isDesktop()){if(_this.overlay&&!_this.options.overlay){$.hideOverlay();_this.overlay=false;$.unlockScreen()}if(!_this.$drawer.hasClass("mdui-drawer-close")){_this.state="opened"}}else{if(!_this.overlay&&_this.state==="opened"){if(_this.$drawer.hasClass("mdui-drawer-open")){$.showOverlay();_this.overlay=true;$.lockScreen();$(".mdui-overlay").one("click",function(){_this.close()})}else{_this.state="closed"}}}},100));_this.$drawer.find("[mdui-drawer-close]").each(function(){$(this).on("click",function(){_this.close()})});var openNavEventHandler;var touchStartX;var touchStartY;var swipeStartX;var swiping=false;var maybeSwiping=false;var swipeAreaWidth=30;_this.enableSwipeHandling=function(){if(!openNavEventHandler){$(document.body).on("touchstart",onBodyTouchStart);openNavEventHandler=onBodyTouchStart}};function setPosition(translateX,closeTransform){var rtlTranslateMultiplier=_this.position==="right"?-1:1;var drawer=_this.$drawer;var transformCSS="translate("+-1*rtlTranslateMultiplier*translateX+"px, 0) !important;";drawer.css("cssText","transform:"+transformCSS+(closeTransform?"transition: initial !important;":""))}function cleanPosition(){_this.$drawer.css("transform",null).css("transition",null)}function getMaxTranslateX(){var width=_this.$drawer.width();return width+10}function getTranslateX(currentX){return Math.min(Math.max(swiping==="closing"?-1*(currentX-swipeStartX):getMaxTranslateX()-(swipeStartX-currentX)*-1,0),getMaxTranslateX())}function onBodyTouchStart(event){var touchX=_this.position==="right"?document.body.offsetWidth-event.touches[0].pageX:event.touches[0].pageX;var touchY=event.touches[0].pageY;if(swipeAreaWidth!==null&&_this.state!=="opened"){if(touchX>swipeAreaWidth){return}}if(_this.state!=="opened"&&openNavEventHandler!==onBodyTouchStart){return}maybeSwiping=true;touchStartX=touchX;touchStartY=touchY;document.body.addEventListener("touchmove",onBodyTouchMove);document.body.addEventListener("touchend",onBodyTouchEnd);document.body.addEventListener("touchcancel",onBodyTouchMove)}function onBodyTouchMove(event){var touchX=_this.position==="right"?document.body.offsetWidth-event.touches[0].pageX:event.touches[0].pageX;var touchY=event.touches[0].pageY;if(swiping){setPosition(getTranslateX(touchX),true)}else if(maybeSwiping){var dXAbs=Math.abs(touchX-touchStartX);var dYAbs=Math.abs(touchY-touchStartY);var threshold=10;if(dXAbs>threshold&&dYAbs<=threshold){swipeStartX=touchX;swiping=_this.state==="opened"?"closing":"opening";$(document.body).addClass("mdui-locked");setPosition(getTranslateX(touchX),true)}else if(dXAbs<=threshold&&dYAbs>threshold){onBodyTouchEnd()}}}function onBodyTouchEnd(event){if(swiping){var touchX=_this.position==="right"?document.body.offsetWidth-event.changedTouches[0].pageX:event.changedTouches[0].pageX;var translateRatio=getTranslateX(touchX)/getMaxTranslateX();maybeSwiping=false;var swipingState=swiping;swiping=null;if(swipingState==="opening"){if(translateRatio<.7){cleanPosition();_this.open()}else{cleanPosition()}}else{if(translateRatio>.3){cleanPosition();_this.close()}else{cleanPosition()}}$(document.body).removeClass("mdui-locked")}else{maybeSwiping=false}document.body.removeEventListener("touchmove",onBodyTouchMove);document.body.removeEventListener("touchend",onBodyTouchEnd);document.body.removeEventListener("touchcancel",onBodyTouchMove)}if(_this.options.swipe){_this.enableSwipeHandling()}}var transitionEnd=function(inst){if(inst.$drawer.hasClass("mdui-drawer-open")){inst.state="opened";componentEvent("opened","drawer",inst,inst.$drawer)}else{inst.state="closed";componentEvent("closed","drawer",inst,inst.$drawer)}};Drawer.prototype.open=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){return}_this.state="opening";componentEvent("open","drawer",_this,_this.$drawer);if(!_this.options.overlay){$("body").addClass("mdui-drawer-body-"+_this.position)}_this.$drawer.removeClass("mdui-drawer-close").addClass("mdui-drawer-open").transitionEnd(function(){transitionEnd(_this)});if(!isDesktop()||_this.options.overlay){_this.overlay=true;$.showOverlay().one("click",function(){_this.close()});$.lockScreen()}};Drawer.prototype.close=function(){var _this=this;if(_this.state==="closing"||_this.state==="closed"){return}_this.state="closing";componentEvent("close","drawer",_this,_this.$drawer);if(!_this.options.overlay){$("body").removeClass("mdui-drawer-body-"+_this.position)}_this.$drawer.addClass("mdui-drawer-close").removeClass("mdui-drawer-open").transitionEnd(function(){transitionEnd(_this)});if(_this.overlay){$.hideOverlay();_this.overlay=false;$.unlockScreen()}};Drawer.prototype.toggle=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){_this.close()}else if(_this.state==="closing"||_this.state==="closed"){_this.open()}};Drawer.prototype.getState=function(){return this.state};return Drawer}();$(function(){$("[mdui-drawer]").each(function(){var $this=$(this);var options=parseOptions($this.attr("mdui-drawer"));var selector=options.target;delete options.target;var $drawer=$(selector).eq(0);var inst=$drawer.data("mdui.drawer");if(!inst){inst=new mdui.Drawer($drawer,options);$drawer.data("mdui.drawer",inst)}$this.on("click",function(){inst.toggle()})})});mdui.Dialog=function(){var DEFAULT={history:true,overlay:true,modal:false,closeOnEsc:true,closeOnCancel:true,closeOnConfirm:true,destroyOnClosed:false};var $overlay;var isLockScreen;var currentInst;var queueName="__md_dialog";var readjust=function(){if(!currentInst){return}var $dialog=currentInst.$dialog;var $dialogTitle=$dialog.children(".mdui-dialog-title");var $dialogContent=$dialog.children(".mdui-dialog-content");var $dialogActions=$dialog.children(".mdui-dialog-actions");$dialog.height("");$dialogContent.height("");var dialogHeight=$dialog.height();$dialog.css({top:($window.height()-dialogHeight)/2+"px",height:dialogHeight+"px"});$dialogContent.height(dialogHeight-($dialogTitle.height()||0)-($dialogActions.height()||0))};var hashchangeEvent=function(){if(location.hash.substring(1).indexOf("&mdui-dialog")<0){currentInst.close(true)}};var overlayClick=function(e){if($(e.target).hasClass("mdui-overlay")&&currentInst){currentInst.close()}};function Dialog(selector,opts){var _this=this;_this.$dialog=$(selector).eq(0);if(!_this.$dialog.length){return}var oldInst=_this.$dialog.data("mdui.dialog");if(oldInst){return oldInst}if(!$.contains(document.body,_this.$dialog[0])){_this.append=true;$("body").append(_this.$dialog)}_this.options=$.extend({},DEFAULT,opts||{});_this.state="closed";_this.$dialog.find("[mdui-dialog-cancel]").each(function(){$(this).on("click",function(){componentEvent("cancel","dialog",_this,_this.$dialog);if(_this.options.closeOnCancel){_this.close()}})});_this.$dialog.find("[mdui-dialog-confirm]").each(function(){$(this).on("click",function(){componentEvent("confirm","dialog",_this,_this.$dialog);if(_this.options.closeOnConfirm){_this.close()}})});_this.$dialog.find("[mdui-dialog-close]").each(function(){$(this).on("click",function(){_this.close()})})}var transitionEnd=function(inst){if(inst.$dialog.hasClass("mdui-dialog-open")){inst.state="opened";componentEvent("opened","dialog",inst,inst.$dialog)}else{inst.state="closed";componentEvent("closed","dialog",inst,inst.$dialog);inst.$dialog.hide();if(queue.queue(queueName).length===0&&!currentInst&&isLockScreen){$.unlockScreen();isLockScreen=false}$window.off("resize",$.throttle(function(){readjust()},100));if(inst.options.destroyOnClosed){inst.destroy()}}};Dialog.prototype._doOpen=function(){var _this=this;currentInst=_this;if(!isLockScreen){$.lockScreen();isLockScreen=true}_this.$dialog.show();readjust();$window.on("resize",$.throttle(function(){readjust()},100));_this.state="opening";componentEvent("open","dialog",_this,_this.$dialog);_this.$dialog.addClass("mdui-dialog-open").transitionEnd(function(){transitionEnd(_this)});if(!$overlay){$overlay=$.showOverlay(5100)}$overlay[_this.options.modal?"off":"on"]("click",overlayClick).css("opacity",_this.options.overlay?"":0);if(_this.options.history){var hash=location.hash.substring(1);if(hash.indexOf("&mdui-dialog")>-1){hash=hash.replace(/&mdui-dialog/g,"")}location.hash=hash+"&mdui-dialog";$window.on("hashchange",hashchangeEvent)}};Dialog.prototype.open=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){return}if(currentInst&&(currentInst.state==="opening"||currentInst.state==="opened")||queue.queue(queueName).length){queue.queue(queueName,function(){_this._doOpen()});return}_this._doOpen()};Dialog.prototype.close=function(){var _this=this;setTimeout(function(){if(_this.state==="closing"||_this.state==="closed"){return}currentInst=null;_this.state="closing";componentEvent("close","dialog",_this,_this.$dialog);if(queue.queue(queueName).length===0&&$overlay){$.hideOverlay();$overlay=null}_this.$dialog.removeClass("mdui-dialog-open").transitionEnd(function(){transitionEnd(_this)});if(_this.options.history&&queue.queue(queueName).length===0){if(!arguments[0]){window.history.back()}$window.off("hashchange",hashchangeEvent)}setTimeout(function(){queue.dequeue(queueName)},100)},0)};Dialog.prototype.toggle=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){_this.close()}else if(_this.state==="closing"||_this.state==="closed"){_this.open()}};Dialog.prototype.getState=function(){return this.state};Dialog.prototype.destroy=function(){var _this=this;if(_this.append){_this.$dialog.remove()}_this.$dialog.removeData("mdui.dialog");if(queue.queue(queueName).length===0&&!currentInst){if($overlay){$.hideOverlay();$overlay=null}if(isLockScreen){$.unlockScreen();isLockScreen=false}}};Dialog.prototype.handleUpdate=function(){readjust()};$document.on("keydown",function(e){if(currentInst&&currentInst.options.closeOnEsc&&currentInst.state==="opened"&&e.keyCode===27){currentInst.close()}});return Dialog}();$(function(){$document.on("click","[mdui-dialog]",function(){var $this=$(this);var options=parseOptions($this.attr("mdui-dialog"));var selector=options.target;delete options.target;var $dialog=$(selector).eq(0);var inst=$dialog.data("mdui.dialog");if(!inst){inst=new mdui.Dialog($dialog,options);$dialog.data("mdui.dialog",inst)}inst.open()})});mdui.dialog=function(options){var DEFAULT={title:"",content:"",buttons:[],stackedButtons:false,cssClass:"",history:true,overlay:true,modal:false,closeOnEsc:true,destroyOnClosed:true,onOpen:function(){},onOpened:function(){},onClose:function(){},onClosed:function(){}};var DEFAULT_BUTTON={text:"",bold:false,close:true,onClick:function(inst){}};options=$.extend({},DEFAULT,options||{});$.each(options.buttons,function(i,button){options.buttons[i]=$.extend({},DEFAULT_BUTTON,button)});var buttonsHTML="";if(options.buttons.length){buttonsHTML='<div class="mdui-dialog-actions '+(options.stackedButtons?"mdui-dialog-actions-stacked":"")+'">';$.each(options.buttons,function(i,button){buttonsHTML+='<a href="javascript:void(0)" '+'class="mdui-btn mdui-ripple mdui-text-color-primary '+(button.bold?"mdui-btn-bold":"")+'">'+button.text+"</a>"});buttonsHTML+="</div>"}var HTML='<div class="mdui-dialog '+options.cssClass+'">'+(options.title?'<div class="mdui-dialog-title">'+options.title+"</div>":"")+(options.content?'<div class="mdui-dialog-content">'+options.content+"</div>":"")+buttonsHTML+"</div>";var inst=new mdui.Dialog(HTML,{history:options.history,overlay:options.overlay,modal:options.modal,closeOnEsc:options.closeOnEsc,destroyOnClosed:options.destroyOnClosed});if(options.buttons.length){inst.$dialog.find(".mdui-dialog-actions .mdui-btn").each(function(i,button){$(button).on("click",function(){if(typeof options.buttons[i].onClick==="function"){options.buttons[i].onClick(inst)}if(options.buttons[i].close){inst.close()}})})}if(typeof options.onOpen==="function"){inst.$dialog.on("open.mdui.dialog",function(){options.onOpen(inst)}).on("opened.mdui.dialog",function(){options.onOpened(inst)}).on("close.mdui.dialog",function(){options.onClose(inst)}).on("closed.mdui.dialog",function(){options.onClosed(inst)})}inst.open();return inst};mdui.alert=function(text,title,onConfirm,options){if(typeof title==="function"){title="";onConfirm=arguments[1];options=arguments[2]}if(onConfirm===undefined){onConfirm=function(){}}if(options===undefined){options={}}var DEFAULT={confirmText:"ok",history:true,modal:false,closeOnEsc:true};options=$.extend({},DEFAULT,options);return mdui.dialog({title:title,content:text,buttons:[{text:options.confirmText,bold:false,close:true,onClick:onConfirm}],cssClass:"mdui-dialog-alert",history:options.history,modal:options.modal,closeOnEsc:options.closeOnEsc})};mdui.confirm=function(text,title,onConfirm,onCancel,options){if(typeof title==="function"){title="";onConfirm=arguments[1];onCancel=arguments[2];options=arguments[3]}if(onConfirm===undefined){onConfirm=function(){}}if(onCancel===undefined){onCancel=function(){}}if(options===undefined){options={}}var DEFAULT={confirmText:"ok",cancelText:"cancel",history:true,modal:false,closeOnEsc:true};options=$.extend({},DEFAULT,options);return mdui.dialog({title:title,content:text,buttons:[{text:options.cancelText,bold:false,close:true,onClick:onCancel},{text:options.confirmText,bold:false,close:true,onClick:onConfirm}],cssClass:"mdui-dialog-confirm",history:options.history,modal:options.modal,closeOnEsc:options.closeOnEsc})};mdui.prompt=function(label,title,onConfirm,onCancel,options){if(typeof title==="function"){title="";onConfirm=arguments[1];onCancel=arguments[2];options=arguments[3]}if(onConfirm===undefined){onConfirm=function(){}}if(onCancel===undefined){onCancel=function(){}}if(options===undefined){options={}}var DEFAULT={confirmText:"ok",cancelText:"cancel",history:true,modal:false,closeOnEsc:true,type:"text",maxlength:"",defaultValue:""};options=$.extend({},DEFAULT,options);var content='<div class="mdui-textfield">'+(label?'<label class="mdui-textfield-label">'+label+"</label>":"")+(options.type==="text"?'<input class="mdui-textfield-input" type="text" '+'value="'+options.defaultValue+'" '+(options.maxlength?'maxlength="'+options.maxlength+'"':"")+"/>":"")+(options.type==="textarea"?'<textarea class="mdui-textfield-input" '+(options.maxlength?'maxlength="'+options.maxlength+'"':"")+">"+options.defaultValue+"</textarea>":"")+"</div>";return mdui.dialog({title:title,content:content,buttons:[{text:options.cancelText,bold:false,close:true,onClick:function(inst){var value=inst.$dialog.find(".mdui-textfield-input").val();onCancel(value,inst)}},{text:options.confirmText,bold:false,close:true,onClick:function(inst){var value=inst.$dialog.find(".mdui-textfield-input").val();onConfirm(value,inst)}}],cssClass:"mdui-dialog-prompt",history:options.history,modal:options.modal,closeOnEsc:options.closeOnEsc,onOpen:function(inst){var $input=inst.$dialog.find(".mdui-textfield-input");mdui.updateTextFields($input);$input[0].focus();if(options.type==="textarea"){$input.on("input",function(){inst.handleUpdate()})}if(options.maxlength){inst.handleUpdate()}}})};mdui.Tooltip=function(){var DEFAULT={position:"auto",delay:0,content:""};var isDesktop=function(){return $window.width()>1024};function setPosition(inst){var marginLeft;var marginTop;var position;var targetProps=inst.$target[0].getBoundingClientRect();var targetMargin=isDesktop()?14:24;var tooltipWidth=inst.$tooltip[0].offsetWidth;var tooltipHeight=inst.$tooltip[0].offsetHeight;position=inst.options.position;if(["bottom","top","left","right"].indexOf(position)===-1){if(targetProps.top+targetProps.height+targetMargin+tooltipHeight+2<$window.height()){position="bottom"}else if(targetMargin+tooltipHeight+2<targetProps.top){position="top"}else if(targetMargin+tooltipWidth+2<targetProps.left){position="left"}else if(targetProps.width+targetMargin+tooltipWidth+2<$window.width()-targetProps.left){position="right"}else{position="bottom"}}switch(position){case"bottom":marginLeft=-1*(tooltipWidth/2);marginTop=targetProps.height/2+targetMargin;inst.$tooltip.transformOrigin("top center");break;case"top":marginLeft=-1*(tooltipWidth/2);marginTop=-1*(tooltipHeight+targetProps.height/2+targetMargin);inst.$tooltip.transformOrigin("bottom center");break;case"left":marginLeft=-1*(tooltipWidth+targetProps.width/2+targetMargin);marginTop=-1*(tooltipHeight/2);inst.$tooltip.transformOrigin("center right");break;case"right":marginLeft=targetProps.width/2+targetMargin;marginTop=-1*(tooltipHeight/2);inst.$tooltip.transformOrigin("center left");break}var targetOffset=inst.$target.offset();inst.$tooltip.css({top:targetOffset.top+targetProps.height/2+"px",left:targetOffset.left+targetProps.width/2+"px","margin-left":marginLeft+"px","margin-top":marginTop+"px"})}function Tooltip(selector,opts){var _this=this;_this.$target=$(selector).eq(0);if(!_this.$target.length){return}var oldInst=_this.$target.data("mdui.tooltip");if(oldInst){return oldInst}_this.options=$.extend({},DEFAULT,opts||{});_this.state="closed";var guid=$.guid("tooltip");_this.$tooltip=$('<div class="mdui-tooltip" id="mdui-tooltip-'+guid+'">'+_this.options.content+"</div>").appendTo(document.body);_this.$target.on("touchstart mouseenter",function(e){if(!TouchHandler.isAllow(e)){return}TouchHandler.register(e);_this.open()}).on("touchend mouseleave",function(e){if(!TouchHandler.isAllow(e)){return}_this.close()}).on(TouchHandler.unlock,TouchHandler.register)}var transitionEnd=function(inst){if(inst.$tooltip.hasClass("mdui-tooltip-open")){inst.state="opened";componentEvent("opened","tooltip",inst,inst.$target)}else{inst.state="closed";componentEvent("closed","tooltip",inst,inst.$target)}};Tooltip.prototype._doOpen=function(){var _this=this;_this.state="opening";componentEvent("open","tooltip",_this,_this.$target);_this.$tooltip.addClass("mdui-tooltip-open").transitionEnd(function(){transitionEnd(_this)})};Tooltip.prototype.open=function(opts){var _this=this;if(_this.state==="opening"||_this.state==="opened"){return}var oldOpts=_this.options;$.extend(_this.options,parseOptions(_this.$target.attr("mdui-tooltip")));if(opts){$.extend(_this.options,opts)}if(oldOpts.content!==_this.options.content){_this.$tooltip.html(_this.options.content)}setPosition(_this);if(_this.options.delay){_this.timeoutId=setTimeout(function(){_this._doOpen()},_this.options.delay)}else{_this.timeoutId=false;_this._doOpen()}};Tooltip.prototype.close=function(){var _this=this;if(_this.timeoutId){clearTimeout(_this.timeoutId);_this.timeoutId=false}if(_this.state==="closing"||_this.state==="closed"){return}_this.state="closing";componentEvent("close","tooltip",_this,_this.$target);_this.$tooltip.removeClass("mdui-tooltip-open").transitionEnd(function(){transitionEnd(_this)})};Tooltip.prototype.toggle=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){_this.close()}else if(_this.state==="closing"||_this.state==="closed"){_this.open()}};Tooltip.prototype.getState=function(){return this.state};return Tooltip}();$(function(){$document.on("touchstart mouseover","[mdui-tooltip]",function(){var $this=$(this);var inst=$this.data("mdui.tooltip");if(!inst){var options=parseOptions($this.attr("mdui-tooltip"));inst=new mdui.Tooltip($this,options);$this.data("mdui.tooltip",inst);inst.open()}})});mdui.Menu=function(){var DEFAULT={position:"auto",align:"auto",gutter:16,fixed:false,covered:"auto",subMenuTrigger:"hover",subMenuDelay:200};var readjust=function(_this){var menuLeft;var menuTop;var position;var align;var windowHeight=$window.height();var windowWidth=$window.width();var gutter=_this.options.gutter;var isCovered=_this.isCovered;var isFixed=_this.options.fixed;var transformOriginX;var transformOriginY;var menuWidth=_this.$menu.width();var menuHeight=_this.$menu.height();var $anchor=_this.$anchor;var anchorTmp=$anchor[0].getBoundingClientRect();var anchorTop=anchorTmp.top;var anchorLeft=anchorTmp.left;var anchorHeight=anchorTmp.height;var anchorWidth=anchorTmp.width;var anchorBottom=windowHeight-anchorTop-anchorHeight;var anchorRight=windowWidth-anchorLeft-anchorWidth;var anchorOffsetTop=$anchor[0].offsetTop;var anchorOffsetLeft=$anchor[0].offsetLeft;if(_this.options.position==="auto"){if(anchorBottom+(isCovered?anchorHeight:0)>menuHeight+gutter){position="bottom"}else if(anchorTop+(isCovered?anchorHeight:0)>menuHeight+gutter){position="top"}else{position="center"}}else{position=_this.options.position}if(_this.options.align==="auto"){if(anchorRight+anchorWidth>menuWidth+gutter){align="left"}else if(anchorLeft+anchorWidth>menuWidth+gutter){align="right"}else{align="center"}}else{align=_this.options.align}if(position==="bottom"){transformOriginY="0";menuTop=(isCovered?0:anchorHeight)+(isFixed?anchorTop:anchorOffsetTop)}else if(position==="top"){transformOriginY="100%";menuTop=(isCovered?anchorHeight:0)+(isFixed?anchorTop-menuHeight:anchorOffsetTop-menuHeight)}else{transformOriginY="50%";var menuHeightTemp=menuHeight;if(!_this.isCascade){if(menuHeight+gutter*2>windowHeight){menuHeightTemp=windowHeight-gutter*2;_this.$menu.height(menuHeightTemp)}}menuTop=(windowHeight-menuHeightTemp)/2+(isFixed?0:anchorOffsetTop-anchorTop)}_this.$menu.css("top",menuTop+"px");if(align==="left"){transformOriginX="0";menuLeft=isFixed?anchorLeft:anchorOffsetLeft}else if(align==="right"){transformOriginX="100%";menuLeft=isFixed?anchorLeft+anchorWidth-menuWidth:anchorOffsetLeft+anchorWidth-menuWidth}else{transformOriginX="50%";var menuWidthTemp=menuWidth;if(menuWidth+gutter*2>windowWidth){menuWidthTemp=windowWidth-gutter*2;_this.$menu.width(menuWidthTemp)}menuLeft=(windowWidth-menuWidthTemp)/2+(isFixed?0:anchorOffsetLeft-anchorLeft)}_this.$menu.css("left",menuLeft+"px");_this.$menu.transformOrigin(transformOriginX+" "+transformOriginY)};var readjustSubmenu=function($submenu){var $item=$submenu.parent(".mdui-menu-item");var submenuTop;var submenuLeft;var position;var align;var windowHeight=$window.height();var windowWidth=$window.width();var transformOriginX;var transformOriginY;var submenuWidth=$submenu.width();var submenuHeight=$submenu.height();var itemTmp=$item[0].getBoundingClientRect();var itemWidth=itemTmp.width;var itemHeight=itemTmp.height;var itemLeft=itemTmp.left;var itemTop=itemTmp.top;if(windowHeight-itemTop>submenuHeight){position="bottom"}else if(itemTop+itemHeight>submenuHeight){position="top"}else{position="bottom"}if(windowWidth-itemLeft-itemWidth>submenuWidth){align="left"}else if(itemLeft>submenuWidth){align="right"}else{align="left"}if(position==="bottom"){transformOriginY="0";submenuTop="0"}else if(position==="top"){transformOriginY="100%";submenuTop=-submenuHeight+itemHeight}$submenu.css("top",submenuTop+"px");if(align==="left"){transformOriginX="0";submenuLeft=itemWidth}else if(align==="right"){transformOriginX="100%";submenuLeft=-submenuWidth}$submenu.css("left",submenuLeft+"px");$submenu.transformOrigin(transformOriginX+" "+transformOriginY)};var openSubMenu=function($submenu){readjustSubmenu($submenu);$submenu.addClass("mdui-menu-open").parent(".mdui-menu-item").addClass("mdui-menu-item-active")};var closeSubMenu=function($submenu){$submenu.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd(function(){$submenu.removeClass("mdui-menu-closing")}).parent(".mdui-menu-item").removeClass("mdui-menu-item-active");$submenu.find(".mdui-menu").each(function(){var $subSubmenu=$(this);$subSubmenu.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd(function(){$subSubmenu.removeClass("mdui-menu-closing")}).parent(".mdui-menu-item").removeClass("mdui-menu-item-active")})};var toggleSubMenu=function($submenu){if($submenu.hasClass("mdui-menu-open")){closeSubMenu($submenu)}else{openSubMenu($submenu)}};var bindSubMenuEvent=function(inst){inst.$menu.on("click",".mdui-menu-item",function(e){var $this=$(this);var $target=$(e.target);if($this.attr("disabled")!==null){return}if($target.is(".mdui-menu")||$target.is(".mdui-divider")){return}if(!$target.parents(".mdui-menu-item").eq(0).is($this)){return}var $submenu=$this.children(".mdui-menu");$this.parent(".mdui-menu").children(".mdui-menu-item").each(function(){var $tmpSubmenu=$(this).children(".mdui-menu");if($tmpSubmenu.length&&(!$submenu.length||!$tmpSubmenu.is($submenu))){closeSubMenu($tmpSubmenu)}});if($submenu.length){toggleSubMenu($submenu)}});if(inst.options.subMenuTrigger==="hover"){var timeout;var timeoutOpen;var timeoutClose;inst.$menu.on("mouseover mouseout",".mdui-menu-item",function(e){var $this=$(this);var eventType=e.type;var $relatedTarget=$(e.relatedTarget);if($this.attr("disabled")!==null){return}if(eventType==="mouseover"){if(!$this.is($relatedTarget)&&$.contains($this[0],$relatedTarget[0])){return}}else if(eventType==="mouseout"){if($this.is($relatedTarget)||$.contains($this[0],$relatedTarget[0])){return}}var $submenu=$this.children(".mdui-menu");if(eventType==="mouseover"){if($submenu.length){var tmpClose=$submenu.data("timeoutClose.mdui.menu");if(tmpClose){clearTimeout(tmpClose)}if($submenu.hasClass("mdui-menu-open")){return}clearTimeout(timeoutOpen);timeout=timeoutOpen=setTimeout(function(){openSubMenu($submenu)},inst.options.subMenuDelay);$submenu.data("timeoutOpen.mdui.menu",timeout)}}else if(eventType==="mouseout"){if($submenu.length){var tmpOpen=$submenu.data("timeoutOpen.mdui.menu");if(tmpOpen){clearTimeout(tmpOpen)}timeout=timeoutClose=setTimeout(function(){closeSubMenu($submenu)},inst.options.subMenuDelay);$submenu.data("timeoutClose.mdui.menu",timeout)}}})}};function Menu(anchorSelector,menuSelector,opts){var _this=this;_this.$anchor=$(anchorSelector).eq(0);if(!_this.$anchor.length){return}var oldInst=_this.$anchor.data("mdui.menu");if(oldInst){return oldInst}_this.$menu=$(menuSelector).eq(0);if(!_this.$anchor.siblings(_this.$menu).length){return}_this.options=$.extend({},DEFAULT,opts||{});_this.state="closed";_this.isCascade=_this.$menu.hasClass("mdui-menu-cascade");if(_this.options.covered==="auto"){_this.isCovered=!_this.isCascade}else{_this.isCovered=_this.options.covered}_this.$anchor.on("click",function(){_this.toggle()});$document.on("click touchstart",function(e){var $target=$(e.target);if((_this.state==="opening"||_this.state==="opened")&&!$target.is(_this.$menu)&&!$.contains(_this.$menu[0],$target[0])&&!$target.is(_this.$anchor)&&!$.contains(_this.$anchor[0],$target[0])){_this.close()}});$document.on("click",".mdui-menu-item",function(e){var $this=$(this);if(!$this.find(".mdui-menu").length&&$this.attr("disabled")===null){_this.close()}});bindSubMenuEvent(_this);$window.on("resize",$.throttle(function(){readjust(_this)},100))}Menu.prototype.toggle=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){_this.close()}else if(_this.state==="closing"||_this.state==="closed"){_this.open()}};var transitionEnd=function(inst){inst.$menu.removeClass("mdui-menu-closing");if(inst.state==="opening"){inst.state="opened";componentEvent("opened","menu",inst,inst.$menu)}if(inst.state==="closing"){inst.state="closed";componentEvent("closed","menu",inst,inst.$menu);inst.$menu.css({top:"",left:"",width:"",position:"fixed"})}};Menu.prototype.open=function(){var _this=this;if(_this.state==="opening"||_this.state==="opened"){return}_this.state="opening";componentEvent("open","menu",_this,_this.$menu);readjust(_this);_this.$menu.css("position",_this.options.fixed?"fixed":"absolute").addClass("mdui-menu-open").transitionEnd(function(){transitionEnd(_this)})};Menu.prototype.close=function(){var _this=this;if(_this.state==="closing"||_this.state==="closed"){return}_this.state="closing";componentEvent("close","menu",_this,_this.$menu);_this.$menu.find(".mdui-menu").each(function(){closeSubMenu($(this))});_this.$menu.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd(function(){transitionEnd(_this)})};return Menu}();$(function(){$document.on("click","[mdui-menu]",function(){var $this=$(this);var inst=$this.data("mdui.menu");if(!inst){var options=parseOptions($this.attr("mdui-menu"));var menuSelector=options.target;delete options.target;inst=new mdui.Menu($this,menuSelector,options);$this.data("mdui.menu",inst);inst.toggle()}})});mdui.JQ=$;window.mdui=mdui})(window,document);(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Lightgallery=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{var mod={exports:{}};factory(mod.exports);global.lgUtils=mod.exports}})(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});window.getAttribute=function(label){return window[label]};window.setAttribute=function(label,value){window[label]=value};document.getAttribute=function(label){return document[label]};document.setAttribute=function(label,value){document[label]=value};var utils={wrap:function wrap(el,className){if(!el){return}var wrapper=document.createElement("div");wrapper.className=className;el.parentNode.insertBefore(wrapper,el);el.parentNode.removeChild(el);wrapper.appendChild(el)},addClass:function addClass(el,className){if(!el){return}if(el.classList){el.classList.add(className)}else{el.className+=" "+className}},removeClass:function removeClass(el,className){if(!el){return}if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}},hasClass:function hasClass(el,className){if(el.classList){return el.classList.contains(className)}else{return new RegExp("(^| )"+className+"( |$)","gi").test(el.className)}return false},setVendor:function setVendor(el,property,value){if(!el){return}el.style[property.charAt(0).toLowerCase()+property.slice(1)]=value;el.style["webkit"+property]=value;el.style["moz"+property]=value;el.style["ms"+property]=value;el.style["o"+property]=value},trigger:function trigger(el,event){var detail=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!el){return}var customEvent=new CustomEvent(event,{detail:detail});el.dispatchEvent(customEvent)},Listener:{uid:0},on:function on(el,events,fn){if(!el){return}events.split(" ").forEach(function(event){var _id=el.getAttribute("lg-event-uid")||"";utils.Listener.uid++;_id+="&"+utils.Listener.uid;el.setAttribute("lg-event-uid",_id);utils.Listener[event+utils.Listener.uid]=fn;el.addEventListener(event.split(".")[0],fn,false)})},off:function off(el,event){if(!el){return}var _id=el.getAttribute("lg-event-uid");if(_id){_id=_id.split("&");for(var i=0;i<_id.length;i++){if(_id[i]){var _event=event+_id[i];if(_event.substring(0,1)==="."){for(var key in utils.Listener){if(utils.Listener.hasOwnProperty(key)){if(key.split(".").indexOf(_event.split(".")[1])>-1){el.removeEventListener(key.split(".")[0],utils.Listener[key]);el.setAttribute("lg-event-uid",el.getAttribute("lg-event-uid").replace("&"+_id[i],""));delete utils.Listener[key]}}}}else{el.removeEventListener(_event.split(".")[0],utils.Listener[_event]);el.setAttribute("lg-event-uid",el.getAttribute("lg-event-uid").replace("&"+_id[i],""));delete utils.Listener[_event]}}}}},param:function param(obj){return Object.keys(obj).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(obj[k])}).join("&")}};exports.default=utils})},{}],2:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["./lg-utils"],factory)}else if(typeof exports!=="undefined"){factory(require("./lg-utils"))}else{var mod={exports:{}};factory(global.lgUtils);global.lightgallery=mod.exports}})(this,function(_lgUtils){"use strict";var _lgUtils2=_interopRequireDefault(_lgUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};(function(){if(typeof window.CustomEvent==="function"){return false}function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();window.utils=_lgUtils2.default;window.lgData={uid:0};window.lgModules={};var defaults={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:false,getCaptionFromTitleOrAlt:true,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:false,preload:1,showAfterLoad:true,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function Plugin(element,options){this.el=element;this.s=_extends({},defaults,options);if(this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw"When using dynamic mode, you must also define dynamicEl as an Array."}this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch="ontouchstart"in document.documentElement;if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}this.items=[];if(this.s.dynamic){this.items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.items.push(this.el)}else if(this.s.selector!==""){if(this.s.selectWithin){this.items=document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector)}else{this.items=this.el.querySelectorAll(this.s.selector)}}else{this.items=this.el.children}}this.___slide="";this.outer="";this.init();return this}Plugin.prototype.init=function(){var _this=this;if(_this.s.preload>_this.items.length){_this.s.preload=_this.items.length}var _hash=window.location.hash;if(_hash.indexOf("lg="+this.s.galleryId)>0){_this.index=parseInt(_hash.split("&slide=")[1],10);_lgUtils2.default.addClass(document.body,"lg-from-hash");if(!_lgUtils2.default.hasClass(document.body,"lg-on")){_lgUtils2.default.addClass(document.body,"lg-on");setTimeout(function(){_this.build(_this.index)})}}if(_this.s.dynamic){_lgUtils2.default.trigger(this.el,"onBeforeOpen");_this.index=_this.s.index||0;if(!_lgUtils2.default.hasClass(document.body,"lg-on")){_lgUtils2.default.addClass(document.body,"lg-on");setTimeout(function(){_this.build(_this.index)})}}else{for(var i=0;i<_this.items.length;i++){(function(index){_lgUtils2.default.on(_this.items[index],"click.lgcustom",function(e){e.preventDefault();_lgUtils2.default.trigger(_this.el,"onBeforeOpen");_this.index=_this.s.index||index;if(!_lgUtils2.default.hasClass(document.body,"lg-on")){_this.build(_this.index);_lgUtils2.default.addClass(document.body,"lg-on")}})})(i)}}};Plugin.prototype.build=function(index){var _this=this;_this.structure();for(var key in window.lgModules){_this.modules[key]=new window.lgModules[key](_this.el)}_this.slide(index,false,false);if(_this.s.keyPress){_this.keyPress()}if(_this.items.length>1){_this.arrow();setTimeout(function(){_this.enableDrag();_this.enableSwipe()},50);if(_this.s.mousewheel){_this.mousewheel()}}_this.counter();_this.closeGallery();_lgUtils2.default.trigger(_this.el,"onAfterOpen");_lgUtils2.default.on(_this.outer,"mousemove.lg click.lg touchstart.lg",function(){_lgUtils2.default.removeClass(_this.outer,"lg-hide-items");clearTimeout(_this.hideBartimeout);_this.hideBartimeout=setTimeout(function(){_lgUtils2.default.addClass(_this.outer,"lg-hide-items")},_this.s.hideBarsDelay)})};Plugin.prototype.structure=function(){var list="";var controls="";var i=0;var subHtmlCont="";var template;var _this=this;document.body.insertAdjacentHTML("beforeend",'<div class="lg-backdrop"></div>');_lgUtils2.default.setVendor(document.querySelector(".lg-backdrop"),"TransitionDuration",this.s.backdropDuration+"ms");for(i=0;i<this.items.length;i++){list+='<div class="lg-item"></div>'}if(this.s.controls&&this.items.length>1){controls='<div class="lg-actions">'+'<button class="mdui-btn mdui-btn-icon mdui-btn-dense lg-prev mdui-ripple mdui-ripple-white mdui-text-color-theme-icon"><i class="mdui-icon material-icons">&#xe314;</i></button>'+'<button class="mdui-btn mdui-btn-icon mdui-btn-dense lg-next mdui-ripple mdui-ripple-white mdui-text-color-theme-icon"><i class="mdui-icon material-icons">&#xe315;</i></button>'+"</div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){subHtmlCont='<div class="lg-sub-html"></div>'}template='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'">'+'<div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'">'+'<div class="lg-inner">'+list+"</div>"+'<div class="lg-toolbar group">'+'<button class="mdui-btn mdui-ripple mdui-ripple-white mdui-btn-icon lg-close"><i class="mdui-icon material-icons">&#xe5c4;</i></button>'+"</div>"+controls+subHtmlCont+"</div>"+"</div>";document.body.insertAdjacentHTML("beforeend",template);this.outer=document.querySelector(".lg-outer");this.___slide=this.outer.querySelectorAll(".lg-item");if(this.s.useLeft){_lgUtils2.default.addClass(this.outer,"lg-use-left");this.s.mode="lg-slide"}else{_lgUtils2.default.addClass(this.outer,"lg-use-css3")}_this.setTop();_lgUtils2.default.on(window,"resize.lg orientationchange.lg",function(){setTimeout(function(){_this.setTop()},100)});_lgUtils2.default.addClass(this.___slide[this.index],"lg-current");if(this.doCss()){_lgUtils2.default.addClass(this.outer,"lg-css3")}else{_lgUtils2.default.addClass(this.outer,"lg-css");this.s.speed=0}_lgUtils2.default.addClass(this.outer,this.s.mode);if(this.s.enableDrag&&this.items.length>1){_lgUtils2.default.addClass(this.outer,"lg-grab")}if(this.s.showAfterLoad){_lgUtils2.default.addClass(this.outer,"lg-show-after-load")}if(this.doCss()){var inner=this.outer.querySelector(".lg-inner");_lgUtils2.default.setVendor(inner,"TransitionTimingFunction",this.s.cssEasing);_lgUtils2.default.setVendor(inner,"TransitionDuration",this.s.speed+"ms")}setTimeout(function(){_lgUtils2.default.addClass(document.querySelector(".lg-backdrop"),"in")});setTimeout(function(){_lgUtils2.default.addClass(_this.outer,"lg-visible")},this.s.backdropDuration);if(this.s.download){this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<a id="lg-download" target="_blank" download class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white lg-download mdui-float-right"><i class="mdui-icon material-icons">&#xe2c4;</i></a>')}this.prevScrollTop=document.documentElement.scrollTop||document.body.scrollTop};Plugin.prototype.setTop=function(){if(this.s.height!=="100%"){var wH=window.innerHeight;var top=(wH-parseInt(this.s.height,10))/2;var lGallery=this.outer.querySelector(".lg");if(wH>=parseInt(this.s.height,10)){lGallery.style.top=top+"px"}else{lGallery.style.top="0px"}}};Plugin.prototype.doCss=function(){var support=function support(){var transition=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var root=document.documentElement;var i=0;for(i=0;i<transition.length;i++){if(transition[i]in root.style){return true}}};if(support()){return true}return false};Plugin.prototype.isVideo=function(src,index){if(!src){throw new Error("Make sure that slide "+index+" has an image/video src")}var html;if(this.s.dynamic){html=this.s.dynamicEl[index].html}else{html=this.items[index].getAttribute("data-html")}if(!src&&html){return{html5:true}}var youtube=src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var vimeo=src.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var dailymotion=src.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);var vk=src.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);if(youtube){return{youtube:youtube}}else if(vimeo){return{vimeo:vimeo}}else if(dailymotion){return{dailymotion:dailymotion}}else if(vk){return{vk:vk}}};Plugin.prototype.counter=function(){if(this.s.counter){this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend",'<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")}};Plugin.prototype.addHtml=function(index){var subHtml=null;var currentEle;if(this.s.dynamic){subHtml=this.s.dynamicEl[index].subHtml}else{currentEle=this.items[index];subHtml=currentEle.getAttribute("data-sub-html");if(this.s.getCaptionFromTitleOrAlt&&!subHtml){subHtml=currentEle.getAttribute("title");if(subHtml&&currentEle.querySelector("img")){subHtml=currentEle.querySelector("img").getAttribute("alt")}}}if(typeof subHtml!=="undefined"&&subHtml!==null){var fL=subHtml.substring(0,1);if(fL==="."||fL==="#"){if(this.s.subHtmlSelectorRelative&&!this.s.dynamic){subHtml=currentEle.querySelector(subHtml).innerHTML}else{subHtml=document.querySelector(subHtml).innerHTML}}}else{subHtml=""}if(this.s.appendSubHtmlTo===".lg-sub-html"){this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML=subHtml}else{this.___slide[index].insertAdjacentHTML("beforeend",subHtml)}if(typeof subHtml!=="undefined"&&subHtml!==null){if(subHtml===""){_lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")}else{_lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")}}_lgUtils2.default.trigger(this.el,"onAfterAppendSubHtml",{index:index})};Plugin.prototype.preload=function(index){var i=1;var j=1;for(i=1;i<=this.s.preload;i++){if(i>=this.items.length-index){break}this.loadContent(index+i,false,0)}for(j=1;j<=this.s.preload;j++){if(index-j<0){break}this.loadContent(index-j,false,0)}};Plugin.prototype.loadContent=function(index,rec,delay){var _this=this;var _hasPoster=false;var _img;var _src;var _poster;var _srcset;var _sizes;var _html;var getResponsiveSrc=function getResponsiveSrc(srcItms){var rsWidth=[];var rsSrc=[];for(var i=0;i<srcItms.length;i++){var __src=srcItms[i].split(" ");if(__src[0]===""){__src.splice(0,1)}rsSrc.push(__src[0]);rsWidth.push(__src[1])}var wWidth=window.innerWidth;for(var j=0;j<rsWidth.length;j++){if(parseInt(rsWidth[j],10)>wWidth){_src=rsSrc[j];break}}};if(_this.s.dynamic){if(_this.s.dynamicEl[index].poster){_hasPoster=true;_poster=_this.s.dynamicEl[index].poster}_html=_this.s.dynamicEl[index].html;_src=_this.s.dynamicEl[index].src;if(_this.s.dynamicEl[index].responsive){var srcDyItms=_this.s.dynamicEl[index].responsive.split(",");getResponsiveSrc(srcDyItms)}_srcset=_this.s.dynamicEl[index].srcset;_sizes=_this.s.dynamicEl[index].sizes}else{if(_this.items[index].getAttribute("data-poster")){_hasPoster=true;_poster=_this.items[index].getAttribute("data-poster")}_html=_this.items[index].getAttribute("data-html");_src=_this.items[index].getAttribute("href")||_this.items[index].getAttribute("data-src");if(_this.items[index].getAttribute("data-responsive")){var srcItms=_this.items[index].getAttribute("data-responsive").split(",");getResponsiveSrc(srcItms)}_srcset=_this.items[index].getAttribute("data-srcset");_sizes=_this.items[index].getAttribute("data-sizes")}var iframe=false;if(_this.s.dynamic){if(_this.s.dynamicEl[index].iframe){iframe=true}}else{if(_this.items[index].getAttribute("data-iframe")==="true"){iframe=true}}var _isVideo=_this.isVideo(_src,index);if(!_lgUtils2.default.hasClass(_this.___slide[index],"lg-loaded")){if(iframe){_this.___slide[index].insertAdjacentHTML("afterbegin",'<div class="lg-video-cont" style="max-width:'+_this.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+_src+'"  allowfullscreen="true"></iframe></div></div>')}else if(_hasPoster){var videoClass="";if(_isVideo&&_isVideo.youtube){videoClass="lg-has-youtube"}else if(_isVideo&&_isVideo.vimeo){videoClass="lg-has-vimeo"}else{videoClass="lg-has-html5"}_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-video-cont '+videoClass+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+_poster+'" /></div></div>')}else if(_isVideo){_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-video-cont "><div class="lg-video"></div></div>');_lgUtils2.default.trigger(_this.el,"hasVideo",{index:index,src:_src,html:_html})}else{_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+_src+'" /></div>')}_lgUtils2.default.trigger(_this.el,"onAferAppendSlide",{index:index});_img=_this.___slide[index].querySelector(".lg-object");if(_sizes){_img.setAttribute("sizes",_sizes)}if(_srcset){_img.setAttribute("srcset",_srcset);try{picturefill({elements:[_img[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){_this.addHtml(index)}_lgUtils2.default.addClass(_this.___slide[index],"lg-loaded")}_lgUtils2.default.on(_this.___slide[index].querySelector(".lg-object"),"load.lg error.lg",function(){var _speed=0;if(delay&&!_lgUtils2.default.hasClass(document.body,"lg-from-hash")){_speed=delay}setTimeout(function(){_lgUtils2.default.addClass(_this.___slide[index],"lg-complete");_lgUtils2.default.trigger(_this.el,"onSlideItemLoad",{index:index,delay:delay||0})},_speed)});if(_isVideo&&_isVideo.html5&&!_hasPoster){_lgUtils2.default.addClass(_this.___slide[index],"lg-complete")}if(rec===true){if(!_lgUtils2.default.hasClass(_this.___slide[index],"lg-complete")){_lgUtils2.default.on(_this.___slide[index].querySelector(".lg-object"),"load.lg error.lg",function(){_this.preload(index)})}else{_this.preload(index)}}};Plugin.prototype.slide=function(index,fromTouch,fromThumb){var _prevIndex=0;for(var i=0;i<this.___slide.length;i++){if(_lgUtils2.default.hasClass(this.___slide[i],"lg-current")){_prevIndex=i;break}}var _this=this;if(_this.lGalleryOn&&_prevIndex===index){return}var _length=this.___slide.length;var _time=_this.lGalleryOn?this.s.speed:0;var _next=false;var _prev=false;if(!_this.lgBusy){if(this.s.download){var _src;if(_this.s.dynamic){_src=_this.s.dynamicEl[index].downloadUrl!==false&&(_this.s.dynamicEl[index].downloadUrl||_this.s.dynamicEl[index].src)}else{_src=_this.items[index].getAttribute("data-download-url")!=="false"&&(_this.items[index].getAttribute("data-download-url")||_this.items[index].getAttribute("href")||_this.items[index].getAttribute("data-src"))}if(_src){document.getElementById("lg-download").setAttribute("href",_src);_lgUtils2.default.removeClass(_this.outer,"lg-hide-download")}else{_lgUtils2.default.addClass(_this.outer,"lg-hide-download")}}_lgUtils2.default.trigger(_this.el,"onBeforeSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb});_this.lgBusy=true;clearTimeout(_this.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){_this.addHtml(index)},_time)}this.arrowDisable(index);if(!fromTouch){_lgUtils2.default.addClass(_this.outer,"lg-no-trans");for(var j=0;j<this.___slide.length;j++){_lgUtils2.default.removeClass(this.___slide[j],"lg-prev-slide");_lgUtils2.default.removeClass(this.___slide[j],"lg-next-slide")}if(index<_prevIndex){_prev=true;if(index===0&&_prevIndex===_length-1&&!fromThumb){_prev=false;_next=true}}else if(index>_prevIndex){_next=true;if(index===_length-1&&_prevIndex===0&&!fromThumb){_prev=true;_next=false}}if(_prev){_lgUtils2.default.addClass(this.___slide[index],"lg-prev-slide");_lgUtils2.default.addClass(this.___slide[_prevIndex],"lg-next-slide")}else if(_next){_lgUtils2.default.addClass(this.___slide[index],"lg-next-slide");_lgUtils2.default.addClass(this.___slide[_prevIndex],"lg-prev-slide")}setTimeout(function(){_lgUtils2.default.removeClass(_this.outer.querySelector(".lg-current"),"lg-current");_lgUtils2.default.addClass(_this.___slide[index],"lg-current");_lgUtils2.default.removeClass(_this.outer,"lg-no-trans")},50)}else{var touchPrev=index-1;var touchNext=index+1;if(index===0&&_prevIndex===_length-1){touchNext=0;touchPrev=_length-1}else if(index===_length-1&&_prevIndex===0){touchNext=0;touchPrev=_length-1}_lgUtils2.default.removeClass(_this.outer.querySelector(".lg-prev-slide"),"lg-prev-slide");_lgUtils2.default.removeClass(_this.outer.querySelector(".lg-current"),"lg-current");_lgUtils2.default.removeClass(_this.outer.querySelector(".lg-next-slide"),"lg-next-slide");_lgUtils2.default.addClass(_this.___slide[touchPrev],"lg-prev-slide");_lgUtils2.default.addClass(_this.___slide[touchNext],"lg-next-slide");_lgUtils2.default.addClass(_this.___slide[index],"lg-current")}if(_this.lGalleryOn){setTimeout(function(){_this.loadContent(index,true,0)},this.s.speed+50);setTimeout(function(){_this.lgBusy=false;_lgUtils2.default.trigger(_this.el,"onAfterSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb})},this.s.speed)}else{_this.loadContent(index,true,_this.s.backdropDuration);_this.lgBusy=false;_lgUtils2.default.trigger(_this.el,"onAfterSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb})}_this.lGalleryOn=true;if(this.s.counter){if(document.getElementById("lg-counter-current")){document.getElementById("lg-counter-current").innerHTML=index+1}}}};Plugin.prototype.goToNextSlide=function(fromTouch){var _this=this;if(!_this.lgBusy){if(_this.index+1<_this.___slide.length){_this.index++;_lgUtils2.default.trigger(_this.el,"onBeforeNextSlide",{index:_this.index});_this.slide(_this.index,fromTouch,false)}else{if(_this.s.loop){_this.index=0;_lgUtils2.default.trigger(_this.el,"onBeforeNextSlide",{index:_this.index});_this.slide(_this.index,fromTouch,false)}else if(_this.s.slideEndAnimatoin){_lgUtils2.default.addClass(_this.outer,"lg-right-end");setTimeout(function(){_lgUtils2.default.removeClass(_this.outer,"lg-right-end")},400)}}}};Plugin.prototype.goToPrevSlide=function(fromTouch){var _this=this;if(!_this.lgBusy){if(_this.index>0){_this.index--;_lgUtils2.default.trigger(_this.el,"onBeforePrevSlide",{index:_this.index,fromTouch:fromTouch});_this.slide(_this.index,fromTouch,false)}else{if(_this.s.loop){_this.index=_this.items.length-1;_lgUtils2.default.trigger(_this.el,"onBeforePrevSlide",{index:_this.index,fromTouch:fromTouch});_this.slide(_this.index,fromTouch,false)}else if(_this.s.slideEndAnimatoin){_lgUtils2.default.addClass(_this.outer,"lg-left-end");setTimeout(function(){_lgUtils2.default.removeClass(_this.outer,"lg-left-end")},400)}}}};Plugin.prototype.keyPress=function(){var _this=this;if(this.items.length>1){_lgUtils2.default.on(window,"keyup.lg",function(e){if(_this.items.length>1){if(e.keyCode===37){e.preventDefault();_this.goToPrevSlide()}if(e.keyCode===39){e.preventDefault();_this.goToNextSlide()}}})}_lgUtils2.default.on(window,"keydown.lg",function(e){if(_this.s.escKey===true&&e.keyCode===27){e.preventDefault();if(!_lgUtils2.default.hasClass(_this.outer,"lg-thumb-open")){_this.destroy()}else{_lgUtils2.default.removeClass(_this.outer,"lg-thumb-open")}}})};Plugin.prototype.arrow=function(){var _this=this;_lgUtils2.default.on(this.outer.querySelector(".lg-prev"),"click.lg",function(){_this.goToPrevSlide()});_lgUtils2.default.on(this.outer.querySelector(".lg-next"),"click.lg",function(){_this.goToNextSlide()})};Plugin.prototype.arrowDisable=function(index){if(!this.s.loop&&this.s.hideControlOnEnd){var next=this.outer.querySelector(".lg-next");var prev=this.outer.querySelector(".lg-prev");if(index+1<this.___slide.length){next.removeAttribute("disabled");_lgUtils2.default.removeClass(next,"disabled")}else{next.setAttribute("disabled","disabled");_lgUtils2.default.addClass(next,"disabled")}if(index>0){prev.removeAttribute("disabled");_lgUtils2.default.removeClass(prev,"disabled")}else{next.setAttribute("disabled","disabled");_lgUtils2.default.addClass(next,"disabled")}}};Plugin.prototype.setTranslate=function(el,xValue,yValue){if(this.s.useLeft){el.style.left=xValue}else{_lgUtils2.default.setVendor(el,"Transform","translate3d("+xValue+"px, "+yValue+"px, 0px)")}};Plugin.prototype.touchMove=function(startCoords,endCoords){var distance=endCoords-startCoords;if(Math.abs(distance)>15){_lgUtils2.default.addClass(this.outer,"lg-dragging");this.setTranslate(this.___slide[this.index],distance,0);this.setTranslate(document.querySelector(".lg-prev-slide"),-this.___slide[this.index].clientWidth+distance,0);this.setTranslate(document.querySelector(".lg-next-slide"),this.___slide[this.index].clientWidth+distance,0)}};Plugin.prototype.touchEnd=function(distance){var _this=this;if(_this.s.mode!=="lg-slide"){_lgUtils2.default.addClass(_this.outer,"lg-slide")}for(var i=0;i<this.___slide.length;i++){if(!_lgUtils2.default.hasClass(this.___slide[i],"lg-current")&&!_lgUtils2.default.hasClass(this.___slide[i],"lg-prev-slide")&&!_lgUtils2.default.hasClass(this.___slide[i],"lg-next-slide")){this.___slide[i].style.opacity="0"}}setTimeout(function(){_lgUtils2.default.removeClass(_this.outer,"lg-dragging");if(distance<0&&Math.abs(distance)>_this.s.swipeThreshold){_this.goToNextSlide(true)}else if(distance>0&&Math.abs(distance)>_this.s.swipeThreshold){_this.goToPrevSlide(true)}else if(Math.abs(distance)<5){_lgUtils2.default.trigger(_this.el,"onSlideClick")}for(var i=0;i<_this.___slide.length;i++){_this.___slide[i].removeAttribute("style")}});setTimeout(function(){if(!_lgUtils2.default.hasClass(_this.outer,"lg-dragging")&&_this.s.mode!=="lg-slide"){_lgUtils2.default.removeClass(_this.outer,"lg-slide")}},_this.s.speed+100)};Plugin.prototype.enableSwipe=function(){var _this=this;var startCoords=0;var endCoords=0;var isMoved=false;if(_this.s.enableSwipe&&_this.isTouch&&_this.doCss()){for(var i=0;i<_this.___slide.length;i++){_lgUtils2.default.on(_this.___slide[i],"touchstart.lg",function(e){if(!_lgUtils2.default.hasClass(_this.outer,"lg-zoomed")&&!_this.lgBusy){e.preventDefault();_this.manageSwipeClass();startCoords=e.targetTouches[0].pageX}})}for(var j=0;j<_this.___slide.length;j++){_lgUtils2.default.on(_this.___slide[j],"touchmove.lg",function(e){if(!_lgUtils2.default.hasClass(_this.outer,"lg-zoomed")){e.preventDefault();endCoords=e.targetTouches[0].pageX;_this.touchMove(startCoords,endCoords);isMoved=true}})}for(var k=0;k<_this.___slide.length;k++){_lgUtils2.default.on(_this.___slide[k],"touchend.lg",function(){if(!_lgUtils2.default.hasClass(_this.outer,"lg-zoomed")){if(isMoved){isMoved=false;_this.touchEnd(endCoords-startCoords)}else{_lgUtils2.default.trigger(_this.el,"onSlideClick")}}})}}};Plugin.prototype.enableDrag=function(){var _this=this;var startCoords=0;var endCoords=0;var isDraging=false;var isMoved=false;if(_this.s.enableDrag&&!_this.isTouch&&_this.doCss()){for(var i=0;i<_this.___slide.length;i++){_lgUtils2.default.on(_this.___slide[i],"mousedown.lg",function(e){if(!_lgUtils2.default.hasClass(_this.outer,"lg-zoomed")){if(_lgUtils2.default.hasClass(e.target,"lg-object")||_lgUtils2.default.hasClass(e.target,"lg-video-play")){e.preventDefault();if(!_this.lgBusy){_this.manageSwipeClass();startCoords=e.pageX;isDraging=true;_this.outer.scrollLeft+=1;_this.outer.scrollLeft-=1;_lgUtils2.default.removeClass(_this.outer,"lg-grab");_lgUtils2.default.addClass(_this.outer,"lg-grabbing");_lgUtils2.default.trigger(_this.el,"onDragstart")}}}})}_lgUtils2.default.on(window,"mousemove.lg",function(e){if(isDraging){isMoved=true;endCoords=e.pageX;_this.touchMove(startCoords,endCoords);_lgUtils2.default.trigger(_this.el,"onDragmove")}});_lgUtils2.default.on(window,"mouseup.lg",function(e){if(isMoved){isMoved=false;_this.touchEnd(endCoords-startCoords);_lgUtils2.default.trigger(_this.el,"onDragend")}else if(_lgUtils2.default.hasClass(e.target,"lg-object")||_lgUtils2.default.hasClass(e.target,"lg-video-play")){_lgUtils2.default.trigger(_this.el,"onSlideClick")}if(isDraging){isDraging=false;_lgUtils2.default.removeClass(_this.outer,"lg-grabbing");_lgUtils2.default.addClass(_this.outer,"lg-grab")}})}};Plugin.prototype.manageSwipeClass=function(){var touchNext=this.index+1;var touchPrev=this.index-1;var length=this.___slide.length;if(this.s.loop){if(this.index===0){touchPrev=length-1}else if(this.index===length-1){touchNext=0}}for(var i=0;i<this.___slide.length;i++){_lgUtils2.default.removeClass(this.___slide[i],"lg-next-slide");_lgUtils2.default.removeClass(this.___slide[i],"lg-prev-slide")}if(touchPrev>-1){_lgUtils2.default.addClass(this.___slide[touchPrev],"lg-prev-slide")}_lgUtils2.default.addClass(this.___slide[touchNext],"lg-next-slide")};Plugin.prototype.mousewheel=function(){var _this=this;_lgUtils2.default.on(_this.outer,"mousewheel.lg",function(e){if(!e.deltaY){return}if(e.deltaY>0){_this.goToPrevSlide()}else{_this.goToNextSlide()}e.preventDefault()})};Plugin.prototype.closeGallery=function(){var _this=this;var mousedown=false;_lgUtils2.default.on(this.outer.querySelector(".lg-close"),"click.lg",function(){_this.destroy()});if(_this.s.closable){_lgUtils2.default.on(_this.outer,"mousedown.lg",function(e){if(_lgUtils2.default.hasClass(e.target,"lg-outer")||_lgUtils2.default.hasClass(e.target,"lg-item")||_lgUtils2.default.hasClass(e.target,"lg-img-wrap")){mousedown=true}else{mousedown=false}});_lgUtils2.default.on(_this.outer,"mouseup.lg",function(e){if(_lgUtils2.default.hasClass(e.target,"lg-outer")||_lgUtils2.default.hasClass(e.target,"lg-item")||_lgUtils2.default.hasClass(e.target,"lg-img-wrap")&&mousedown){if(!_lgUtils2.default.hasClass(_this.outer,"lg-dragging")){_this.destroy()}}})}};Plugin.prototype.destroy=function(d){var _this=this;if(!d){_lgUtils2.default.trigger(_this.el,"onBeforeClose")}document.body.scrollTop=_this.prevScrollTop;document.documentElement.scrollTop=_this.prevScrollTop;if(d){if(!_this.s.dynamic){for(var i=0;i<this.items.length;i++){_lgUtils2.default.off(this.items[i],".lg");_lgUtils2.default.off(this.items[i],".lgcustom")}}var lguid=_this.el.getAttribute("lg-uid");delete window.lgData[lguid];_this.el.removeAttribute("lg-uid")}_lgUtils2.default.off(this.el,".lgtm");for(var key in window.lgModules){if(_this.modules[key]){_this.modules[key].destroy()}}this.lGalleryOn=false;clearTimeout(_this.hideBartimeout);this.hideBartimeout=false;_lgUtils2.default.off(window,".lg");_lgUtils2.default.removeClass(document.body,"lg-on");_lgUtils2.default.removeClass(document.body,"lg-from-hash");if(_this.outer){_lgUtils2.default.removeClass(_this.outer,"lg-visible")}_lgUtils2.default.removeClass(document.querySelector(".lg-backdrop"),"in");setTimeout(function(){try{if(_this.outer){_this.outer.parentNode.removeChild(_this.outer)}if(document.querySelector(".lg-backdrop")){document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop"))}if(!d){_lgUtils2.default.trigger(_this.el,"onCloseAfter")}}catch(err){}},_this.s.backdropDuration+50)};window.lightGallery=function(el,options){if(!el){return}try{if(!el.getAttribute("lg-uid")){var uid="lg"+window.lgData.uid++;window.lgData[uid]=new Plugin(el,options);el.setAttribute("lg-uid",uid)}else{try{window.lgData[el.getAttribute("lg-uid")].init()}catch(err){console.error("lightGallery has not initiated properly")}}}catch(err){console.error("lightGallery has not initiated properly")}}})},{"./lg-utils":1}]},{},[2])(2)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.LgHash=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports!=="undefined"){factory()}else{var mod={exports:{}};factory();global.lgHash=mod.exports}})(this,function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var hashDefaults={hash:true};var Hash=function Hash(element){this.el=element;this.core=window.lgData[this.el.getAttribute("lg-uid")];this.core.s=_extends({},hashDefaults,this.core.s);if(this.core.s.hash){this.oldHash=window.location.hash;this.init()}return this};Hash.prototype.init=function(){var _this=this;var _hash;utils.on(_this.core.el,"onAfterSlide.lgtm",function(event){window.location.hash="lg="+_this.core.s.galleryId+"&slide="+event.detail.index});utils.on(window,"hashchange.lghash",function(){_hash=window.location.hash;var _idx=parseInt(_hash.split("&slide=")[1],10);if(_hash.indexOf("lg="+_this.core.s.galleryId)>-1){_this.core.slide(_idx,false,false)}else if(_this.core.lGalleryOn){_this.core.destroy()}})};Hash.prototype.destroy=function(){if(!this.core.s.hash){return}if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){window.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",document.title,window.location.pathname+window.location.search)}else{window.location.hash=""}}utils.off(this.core.el,".lghash")};window.lgModules.hash=Hash})},{}]},{},[1])(1)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.LgZoom=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports!=="undefined"){factory()}else{var mod={exports:{}};factory();global.lgZoom=mod.exports}})(this,function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var getUseLeft=function getUseLeft(){var useLeft=false;var isChrome=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(isChrome&&parseInt(isChrome[2],10)<54){useLeft=true}return useLeft};var zoomDefaults={scale:1,zoom:true,actualSize:true,enableZoomAfter:300,useLeftForZoom:getUseLeft()};var Zoom=function Zoom(element){this.el=element;this.core=window.lgData[this.el.getAttribute("lg-uid")];this.core.s=_extends({},zoomDefaults,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=window.innerWidth/2;this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)}return this};Zoom.prototype.init=function(){var _this=this;var zoomIcons='<button id="lg-zoom-in" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white mdui-float-right"><i class="mdui-icon material-icons">&#xe8ff;</i></button><button id="lg-zoom-out" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white mdui-float-right"><i class="mdui-icon material-icons">&#xe900;</i></button>';if(_this.core.s.actualSize){zoomIcons+='<button id="lg-actual-size" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white mdui-float-right"><i class="mdui-icon material-icons">&#xe432;</i></button>'}if(_this.core.s.useLeftForZoom){utils.addClass(_this.core.outer,"lg-use-left-for-zoom")}else{utils.addClass(_this.core.outer,"lg-use-transition-for-zoom")}this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",zoomIcons);utils.on(_this.core.el,"onSlideItemLoad.lgtmzoom",function(event){var _speed=_this.core.s.enableZoomAfter+event.detail.delay;if(utils.hasClass(document.body,"lg-from-hash")&&event.detail.delay){_speed=0}else{utils.removeClass(document.body,"lg-from-hash")}_this.zoomabletimeout=setTimeout(function(){utils.addClass(_this.core.___slide[event.detail.index],"lg-zoomable")},_speed+30)});var scale=1;var zoom=function zoom(scaleVal){var image=_this.core.outer.querySelector(".lg-current .lg-image");var _x;var _y;var offsetX=(window.innerWidth-image.clientWidth)/2;var offsetY=(window.innerHeight-image.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop);_x=_this.pageX-offsetX;_y=_this.pageY-offsetY;var x=(scaleVal-1)*_x;var y=(scaleVal-1)*_y;utils.setVendor(image,"Transform","scale3d("+scaleVal+", "+scaleVal+", 1)");image.setAttribute("data-scale",scaleVal);if(_this.core.s.useLeftForZoom){image.parentElement.style.left=-x+"px";image.parentElement.style.top=-y+"px"}else{utils.setVendor(image.parentElement,"Transform","translate3d(-"+x+"px, -"+y+"px, 0)")}image.parentElement.setAttribute("data-x",x);image.parentElement.setAttribute("data-y",y)};var callScale=function callScale(){if(scale>1){utils.addClass(_this.core.outer,"lg-zoomed")}else{_this.resetZoom()}if(scale<1){scale=1}zoom(scale)};var actualSize=function actualSize(event,image,index,fromIcon){var w=image.clientWidth;var nw;if(_this.core.s.dynamic){nw=_this.core.s.dynamicEl[index].width||image.naturalWidth||w}else{nw=_this.core.items[index].getAttribute("data-width")||image.naturalWidth||w}var _scale;if(utils.hasClass(_this.core.outer,"lg-zoomed")){scale=1}else{if(nw>w){_scale=nw/w;scale=_scale||2}}if(fromIcon){_this.pageX=window.innerWidth/2;_this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)}else{_this.pageX=event.pageX||event.targetTouches[0].pageX;_this.pageY=event.pageY||event.targetTouches[0].pageY}callScale();setTimeout(function(){utils.removeClass(_this.core.outer,"lg-grabbing");utils.addClass(_this.core.outer,"lg-grab")},10)};var tapped=false;utils.on(_this.core.el,"onAferAppendSlide.lgtmzoom",function(event){var index=event.detail.index;var image=_this.core.___slide[index].querySelector(".lg-image");if(!_this.core.isTouch){utils.on(image,"dblclick",function(event){actualSize(event,image,index)})}if(_this.core.isTouch){utils.on(image,"touchstart",function(event){if(!tapped){tapped=setTimeout(function(){tapped=null},300)}else{clearTimeout(tapped);tapped=null;actualSize(event,image,index)}event.preventDefault()})}});utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){_this.pageX=window.innerWidth/2;_this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop);zoom(scale)});utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){if(_this.core.outer.querySelector(".lg-current .lg-image")){scale-=_this.core.s.scale;callScale()}});utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){if(_this.core.outer.querySelector(".lg-current .lg-image")){scale+=_this.core.s.scale;callScale()}});utils.on(document.getElementById("lg-actual-size"),"click.lg",function(event){actualSize(event,_this.core.___slide[_this.core.index].querySelector(".lg-image"),_this.core.index,true)});utils.on(_this.core.el,"onBeforeSlide.lgtm",function(){scale=1;_this.resetZoom()});if(!_this.core.isTouch){_this.zoomDrag()}if(_this.core.isTouch){_this.zoomSwipe()}};Zoom.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var i=0;i<this.core.___slide.length;i++){if(this.core.___slide[i].querySelector(".lg-img-wrap")){this.core.___slide[i].querySelector(".lg-img-wrap").removeAttribute("style");this.core.___slide[i].querySelector(".lg-img-wrap").removeAttribute("data-x");this.core.___slide[i].querySelector(".lg-img-wrap").removeAttribute("data-y")}}for(var j=0;j<this.core.___slide.length;j++){if(this.core.___slide[j].querySelector(".lg-image")){this.core.___slide[j].querySelector(".lg-image").removeAttribute("style");this.core.___slide[j].querySelector(".lg-image").removeAttribute("data-scale")}}this.pageX=window.innerWidth/2;this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)};Zoom.prototype.zoomSwipe=function(){var _this=this;var startCoords={};var endCoords={};var isMoved=false;var allowX=false;var allowY=false;for(var i=0;i<_this.core.___slide.length;i++){utils.on(_this.core.___slide[i],"touchstart.lg",function(e){if(utils.hasClass(_this.core.outer,"lg-zoomed")){var image=_this.core.___slide[_this.core.index].querySelector(".lg-object");allowY=image.offsetHeight*image.getAttribute("data-scale")>_this.core.outer.querySelector(".lg").clientHeight;allowX=image.offsetWidth*image.getAttribute("data-scale")>_this.core.outer.querySelector(".lg").clientWidth;if(allowX||allowY){e.preventDefault();startCoords={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}}}})}for(var j=0;j<_this.core.___slide.length;j++){utils.on(_this.core.___slide[j],"touchmove.lg",function(e){if(utils.hasClass(_this.core.outer,"lg-zoomed")){var _el=_this.core.___slide[_this.core.index].querySelector(".lg-img-wrap");var distanceX;var distanceY;e.preventDefault();isMoved=true;endCoords={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY};utils.addClass(_this.core.outer,"lg-zoom-dragging");if(allowY){distanceY=-Math.abs(_el.getAttribute("data-y"))+(endCoords.y-startCoords.y)}else{distanceY=-Math.abs(_el.getAttribute("data-y"))}if(allowX){distanceX=-Math.abs(_el.getAttribute("data-x"))+(endCoords.x-startCoords.x)}else{distanceX=-Math.abs(_el.getAttribute("data-x"))}if(Math.abs(endCoords.x-startCoords.x)>15||Math.abs(endCoords.y-startCoords.y)>15){if(_this.core.s.useLeftForZoom){_el.style.left=distanceX+"px";_el.style.top=distanceY+"px"}else{utils.setVendor(_el,"Transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}}}})}for(var k=0;k<_this.core.___slide.length;k++){utils.on(_this.core.___slide[k],"touchend.lg",function(){if(utils.hasClass(_this.core.outer,"lg-zoomed")){if(isMoved){isMoved=false;utils.removeClass(_this.core.outer,"lg-zoom-dragging");_this.touchendZoom(startCoords,endCoords,allowX,allowY)}}})}};Zoom.prototype.zoomDrag=function(){var _this=this;var startCoords={};var endCoords={};var isDraging=false;var isMoved=false;var allowX=false;var allowY=false;for(var i=0;i<_this.core.___slide.length;i++){utils.on(_this.core.___slide[i],"mousedown.lgzoom",function(e){var image=_this.core.___slide[_this.core.index].querySelector(".lg-object");allowY=image.offsetHeight*image.getAttribute("data-scale")>_this.core.outer.querySelector(".lg").clientHeight;allowX=image.offsetWidth*image.getAttribute("data-scale")>_this.core.outer.querySelector(".lg").clientWidth;if(utils.hasClass(_this.core.outer,"lg-zoomed")){if(utils.hasClass(e.target,"lg-object")&&(allowX||allowY)){e.preventDefault();startCoords={x:e.pageX,y:e.pageY};isDraging=true;_this.core.outer.scrollLeft+=1;_this.core.outer.scrollLeft-=1;utils.removeClass(_this.core.outer,"lg-grab");utils.addClass(_this.core.outer,"lg-grabbing")}}})}utils.on(window,"mousemove.lgzoom",function(e){if(isDraging){var _el=_this.core.___slide[_this.core.index].querySelector(".lg-img-wrap");var distanceX;var distanceY;isMoved=true;endCoords={x:e.pageX,y:e.pageY};utils.addClass(_this.core.outer,"lg-zoom-dragging");if(allowY){distanceY=-Math.abs(_el.getAttribute("data-y"))+(endCoords.y-startCoords.y)}else{distanceY=-Math.abs(_el.getAttribute("data-y"))}if(allowX){distanceX=-Math.abs(_el.getAttribute("data-x"))+(endCoords.x-startCoords.x)}else{distanceX=-Math.abs(_el.getAttribute("data-x"))}if(_this.core.s.useLeftForZoom){_el.style.left=distanceX+"px";_el.style.top=distanceY+"px"}else{utils.setVendor(_el,"Transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}}});utils.on(window,"mouseup.lgzoom",function(e){if(isDraging){isDraging=false;utils.removeClass(_this.core.outer,"lg-zoom-dragging");if(isMoved&&(startCoords.x!==endCoords.x||startCoords.y!==endCoords.y)){endCoords={x:e.pageX,y:e.pageY};_this.touchendZoom(startCoords,endCoords,allowX,allowY)}isMoved=false}utils.removeClass(_this.core.outer,"lg-grabbing");utils.addClass(_this.core.outer,"lg-grab")})};Zoom.prototype.touchendZoom=function(startCoords,endCoords,allowX,allowY){var _this=this;var _el=_this.core.___slide[_this.core.index].querySelector(".lg-img-wrap");var image=_this.core.___slide[_this.core.index].querySelector(".lg-object");var distanceX=-Math.abs(_el.getAttribute("data-x"))+(endCoords.x-startCoords.x);var distanceY=-Math.abs(_el.getAttribute("data-y"))+(endCoords.y-startCoords.y);var minY=(_this.core.outer.querySelector(".lg").clientHeight-image.offsetHeight)/2;var maxY=Math.abs(image.offsetHeight*Math.abs(image.getAttribute("data-scale"))-_this.core.outer.querySelector(".lg").clientHeight+minY);var minX=(_this.core.outer.querySelector(".lg").clientWidth-image.offsetWidth)/2;var maxX=Math.abs(image.offsetWidth*Math.abs(image.getAttribute("data-scale"))-_this.core.outer.querySelector(".lg").clientWidth+minX);if(Math.abs(endCoords.x-startCoords.x)>15||Math.abs(endCoords.y-startCoords.y)>15){if(allowY){if(distanceY<=-maxY){distanceY=-maxY}else if(distanceY>=-minY){distanceY=-minY}}if(allowX){if(distanceX<=-maxX){distanceX=-maxX}else if(distanceX>=-minX){distanceX=-minX}}if(allowY){_el.setAttribute("data-y",Math.abs(distanceY))}else{distanceY=-Math.abs(_el.getAttribute("data-y"))}if(allowX){_el.setAttribute("data-x",Math.abs(distanceX))}else{distanceX=-Math.abs(_el.getAttribute("data-x"))}if(_this.core.s.useLeftForZoom){_el.style.left=distanceX+"px";_el.style.top=distanceY+"px"}else{utils.setVendor(_el,"Transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}}};Zoom.prototype.destroy=function(){var _this=this;utils.off(_this.core.el,".lgzoom");utils.off(window,".lgzoom");for(var i=0;i<_this.core.___slide.length;i++){utils.off(_this.core.___slide[i],".lgzoom")}utils.off(_this.core.el,".lgtmzoom");_this.resetZoom();clearTimeout(_this.zoomabletimeout);_this.zoomabletimeout=false};window.lgModules.zoom=Zoom})},{}]},{},[1])(1)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.LgFullscreen=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports!=="undefined"){factory()}else{var mod={exports:{}};factory();global.lgFullscreen=mod.exports}})(this,function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var fullscreenDefaults={fullScreen:true};var Fullscreen=function Fullscreen(element){this.el=element;this.core=window.lgData[this.el.getAttribute("lg-uid")];this.core.s=_extends({},fullscreenDefaults,this.core.s);this.init();return this};Fullscreen.prototype.init=function(){var fullScreen="";if(this.core.s.fullScreen){if(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled&&!document.mozFullScreenEnabled&&!document.msFullscreenEnabled){return}else{fullScreen='<button class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white mdui-float-right lg-fullscreen"><i class="mdui-icon material-icons fullscreen">&#xe5d0;</i><i class="mdui-icon material-icons fullscreen_exit">&#xe5d1;</i></button>';this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",fullScreen);this.fullScreen()}}};Fullscreen.prototype.requestFullscreen=function(){var el=document.documentElement;if(el.requestFullscreen){el.requestFullscreen()}else if(el.msRequestFullscreen){el.msRequestFullscreen()}else if(el.mozRequestFullScreen){el.mozRequestFullScreen()}else if(el.webkitRequestFullscreen){el.webkitRequestFullscreen()}};Fullscreen.prototype.exitFullscreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};Fullscreen.prototype.fullScreen=function(){var _this=this;utils.on(document,"fullscreenchange.lgfullscreen webkitfullscreenchange.lgfullscreen mozfullscreenchange.lgfullscreen MSFullscreenChange.lgfullscreen",function(){if(utils.hasClass(_this.core.outer,"lg-fullscreen-on")){utils.removeClass(_this.core.outer,"lg-fullscreen-on")}else{utils.addClass(_this.core.outer,"lg-fullscreen-on")}});utils.on(this.core.outer.querySelector(".lg-fullscreen"),"click.lg",function(){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){_this.requestFullscreen()}else{_this.exitFullscreen()}})};Fullscreen.prototype.destroy=function(){this.exitFullscreen();utils.off(document,".lgfullscreen")};window.lgModules.fullscreen=Fullscreen})},{}]},{},[1])(1)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.LgAutoplay=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports!=="undefined"){factory()}else{var mod={exports:{}};factory();global.lgAutoplay=mod.exports}})(this,function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var autoplayDefaults={autoplay:false,pause:5e3,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var Autoplay=function Autoplay(element){this.el=element;this.core=window.lgData[this.el.getAttribute("lg-uid")];if(this.core.items.length<2){return false}this.core.s=_extends({},autoplayDefaults,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};Autoplay.prototype.init=function(){var _this=this;if(_this.core.s.autoplayControls){_this.controls()}if(_this.core.s.progressBar){_this.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}_this.progress();if(_this.core.s.autoplay){_this.startlAuto()}utils.on(_this.el,"onDragstart.lgtm touchstart.lgtm",function(){if(_this.interval){_this.cancelAuto();_this.canceledOnTouch=true}});utils.on(_this.el,"onDragend.lgtm touchend.lgtm onSlideClick.lgtm",function(){if(!_this.interval&&_this.canceledOnTouch){_this.startlAuto();_this.canceledOnTouch=false}})};Autoplay.prototype.progress=function(){var _this=this;var _progressBar;var _progress;utils.on(_this.el,"onBeforeSlide.lgtm",function(){if(_this.core.s.progressBar&&_this.fromAuto){_progressBar=_this.core.outer.querySelector(".lg-progress-bar");_progress=_this.core.outer.querySelector(".lg-progress");if(_this.interval){_progress.removeAttribute("style");utils.removeClass(_progressBar,"lg-start");setTimeout(function(){utils.setVendor(_progress,"Transition","width "+(_this.core.s.speed+_this.core.s.pause)+"ms ease 0s");utils.addClass(_progressBar,"lg-start")},20)}}if(!_this.fromAuto&&!_this.core.s.fourceAutoplay){_this.cancelAuto()}_this.fromAuto=false})};Autoplay.prototype.controls=function(){var _this=this;var _html='<button class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white lg-autoplay-button mdui-float-right"><i class="mdui-icon material-icons play">&#xe039;</i><i class="mdui-icon material-icons pause">&#xe036;</i></button>';_this.core.outer.querySelector(this.core.s.appendAutoplayControlsTo).insertAdjacentHTML("beforeend",_html);utils.on(_this.core.outer.querySelector(".lg-autoplay-button"),"click.lg",function(){if(utils.hasClass(_this.core.outer,"lg-show-autoplay")){_this.cancelAuto();_this.core.s.fourceAutoplay=false}else{if(!_this.interval){_this.startlAuto();_this.core.s.fourceAutoplay=_this.fourceAutoplayTemp}}})};Autoplay.prototype.startlAuto=function(){var _this=this;utils.setVendor(_this.core.outer.querySelector(".lg-progress"),"Transition","width "+(_this.core.s.speed+_this.core.s.pause)+"ms ease 0s");utils.addClass(_this.core.outer,"lg-show-autoplay");utils.addClass(_this.core.outer.querySelector(".lg-progress-bar"),"lg-start");_this.interval=setInterval(function(){if(_this.core.index+1<_this.core.items.length){_this.core.index++}else{_this.core.index=0}_this.fromAuto=true;_this.core.slide(_this.core.index,false,false)},_this.core.s.speed+_this.core.s.pause)};Autoplay.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;if(this.core.outer.querySelector(".lg-progress")){this.core.outer.querySelector(".lg-progress").removeAttribute("style")}utils.removeClass(this.core.outer,"lg-show-autoplay");utils.removeClass(this.core.outer.querySelector(".lg-progress-bar"),"lg-start")};Autoplay.prototype.destroy=function(){this.cancelAuto();if(this.core.outer.querySelector(".lg-progress-bar")){this.core.outer.querySelector(".lg-progress-bar").parentNode.removeChild(this.core.outer.querySelector(".lg-progress-bar"))}};window.lgModules.autoplay=Autoplay})},{}]},{},[1])(1)});(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory(root))}else if(typeof exports==="object"){module.exports=factory(root)}else{root.smoothScroll=factory(root)}})(typeof global!=="undefined"?global:this.window||this.global,function(root){"use strict";var smoothScroll={};var supports="querySelector"in document&&"addEventListener"in root;var settings,anchor,toggle,fixedHeader,headerHeight,eventTimeout,animationInterval;var defaults={selector:"[data-scroll]",selectorHeader:null,speed:500,offset:0,easing:"easeInOutCubic",easingPatterns:{},before:function(){},after:function(){}};var extend=function(){var extended={};var deep=false;var i=0;var length=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){deep=arguments[0];i++}var merge=function(obj){for(var prop in obj){if(Object.prototype.hasOwnProperty.call(obj,prop)){if(deep&&Object.prototype.toString.call(obj[prop])==="[object Object]"){extended[prop]=extend(true,extended[prop],obj[prop])}else{extended[prop]=obj[prop]}}}};for(;i<length;i++){var obj=arguments[i];merge(obj)}return extended};var getHeight=function(elem){return Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight)};var getClosest=function(elem,selector){if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;while(--i>=0&&matches.item(i)!==this){}return i>-1}}for(;elem&&elem!==document;elem=elem.parentNode){if(elem.matches(selector))return elem}return null};var escapeCharacters=function(id){if(id.charAt(0)==="#"){id=id.substr(1)}var string=String(id);var length=string.length;var index=-1;var codeUnit;var result="";var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);if(codeUnit===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if(codeUnit>=1&&codeUnit<=31||codeUnit==127||index===0&&codeUnit>=48&&codeUnit<=57||index===1&&codeUnit>=48&&codeUnit<=57&&firstCodeUnit===45){result+="\\"+codeUnit.toString(16)+" ";continue}if(codeUnit>=128||codeUnit===45||codeUnit===95||codeUnit>=48&&codeUnit<=57||codeUnit>=65&&codeUnit<=90||codeUnit>=97&&codeUnit<=122){result+=string.charAt(index);continue}result+="\\"+string.charAt(index)}return"#"+result};var easingPattern=function(settings,time){var pattern;if(settings.easing==="easeInQuad")pattern=time*time;if(settings.easing==="easeOutQuad")pattern=time*(2-time);if(settings.easing==="easeInOutQuad")pattern=time<.5?2*time*time:-1+(4-2*time)*time;if(settings.easing==="easeInCubic")pattern=time*time*time;if(settings.easing==="easeOutCubic")pattern=--time*time*time+1;if(settings.easing==="easeInOutCubic")pattern=time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1;if(settings.easing==="easeInQuart")pattern=time*time*time*time;if(settings.easing==="easeOutQuart")pattern=1- --time*time*time*time;if(settings.easing==="easeInOutQuart")pattern=time<.5?8*time*time*time*time:1-8*--time*time*time*time;if(settings.easing==="easeInQuint")pattern=time*time*time*time*time;if(settings.easing==="easeOutQuint")pattern=1+--time*time*time*time*time;if(settings.easing==="easeInOutQuint")pattern=time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time;if(settings.easingPatterns[settings.easing]){pattern=settings.easingPatterns[settings.easing](time)}return pattern||time};var getEndLocation=function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent){do{location+=anchor.offsetTop;anchor=anchor.offsetParent}while(anchor)}location=Math.max(location-headerHeight-offset,0);return Math.min(location,getDocumentHeight()-getViewportHeight())};var getViewportHeight=function(){return Math.max(document.documentElement.clientHeight,root.innerHeight||0)};var getDocumentHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};var getDataOptions=function(options){return!options||!(typeof JSON==="object"&&typeof JSON.parse==="function")?{}:JSON.parse(options)};var getHeaderHeight=function(header){return!header?0:getHeight(header)+header.offsetTop};var adjustFocus=function(anchor,endLocation,isNum){if(isNum)return;anchor.focus();if(document.activeElement.id!==anchor.id){anchor.setAttribute("tabindex","-1");anchor.focus();anchor.style.outline="none"}root.scrollTo(0,endLocation)};smoothScroll.animateScroll=function(anchor,toggle,options){var overrides=getDataOptions(toggle?toggle.getAttribute("data-options"):null);var animateSettings=extend(settings||defaults,options||{},overrides);var isNum=Object.prototype.toString.call(anchor)==="[object Number]"?true:false;var anchorElem=isNum||!anchor.tagName?null:anchor;if(!isNum&&!anchorElem)return;var startLocation=root.pageYOffset;if(animateSettings.selectorHeader&&!fixedHeader){fixedHeader=document.querySelector(animateSettings.selectorHeader)}if(!headerHeight){headerHeight=getHeaderHeight(fixedHeader)}var endLocation=isNum?anchor:getEndLocation(anchorElem,headerHeight,parseInt(typeof animateSettings.offset==="function"?animateSettings.offset():animateSettings.offset,10));var distance=endLocation-startLocation;var documentHeight=getDocumentHeight();var timeLapsed=0;var percentage,position;var stopAnimateScroll=function(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;if(position==endLocation||currentLocation==endLocation||root.innerHeight+currentLocation>=documentHeight){clearInterval(animationInterval);adjustFocus(anchor,endLocation,isNum);animateSettings.after(anchor,toggle)}};var loopAnimateScroll=function(){timeLapsed+=16;percentage=timeLapsed/parseInt(animateSettings.speed,10);percentage=percentage>1?1:percentage;position=startLocation+distance*easingPattern(animateSettings,percentage);root.scrollTo(0,Math.floor(position));stopAnimateScroll(position,endLocation,animationInterval)};var startAnimateScroll=function(){clearInterval(animationInterval);animationInterval=setInterval(loopAnimateScroll,16)};if(root.pageYOffset===0){root.scrollTo(0,0)}animateSettings.before(anchor,toggle);startAnimateScroll()};var hashChangeHandler=function(event){var hash;try{hash=escapeCharacters(decodeURIComponent(root.location.hash))}catch(e){hash=escapeCharacters(root.location.hash)}if(!anchor)return;anchor.id=anchor.getAttribute("data-scroll-id");smoothScroll.animateScroll(anchor,toggle);anchor=null;toggle=null};var clickHandler=function(event){if(event.button!==0||event.metaKey||event.ctrlKey)return;toggle=getClosest(event.target,settings.selector);if(!toggle||toggle.tagName.toLowerCase()!=="a")return;if(toggle.hostname!==root.location.hostname||toggle.pathname!==root.location.pathname||!/#/.test(toggle.href))return;var hash;try{hash=escapeCharacters(decodeURIComponent(toggle.hash))}catch(e){hash=escapeCharacters(toggle.hash)}if(hash==="#"){event.preventDefault();anchor=document.body;var id=anchor.id?anchor.id:"smooth-scroll-top";anchor.setAttribute("data-scroll-id",id);anchor.id="";if(root.location.hash.substring(1)===id){hashChangeHandler()}else{root.location.hash=id}return}anchor=document.querySelector(hash);if(!anchor)return;anchor.setAttribute("data-scroll-id",anchor.id);anchor.id="";if(toggle.hash===root.location.hash){event.preventDefault();hashChangeHandler()}};var resizeThrottler=function(event){if(!eventTimeout){eventTimeout=setTimeout(function(){eventTimeout=null;headerHeight=getHeaderHeight(fixedHeader)},66)}};smoothScroll.destroy=function(){if(!settings)return;document.removeEventListener("click",clickHandler,false);root.removeEventListener("resize",resizeThrottler,false);settings=null;anchor=null;toggle=null;fixedHeader=null;headerHeight=null;eventTimeout=null;animationInterval=null};smoothScroll.init=function(options){if(!supports)return;smoothScroll.destroy();settings=extend(defaults,options||{});fixedHeader=settings.selectorHeader?document.querySelector(settings.selectorHeader):null;headerHeight=getHeaderHeight(fixedHeader);document.addEventListener("click",clickHandler,false);root.addEventListener("hashchange",hashChangeHandler,false);if(fixedHeader){root.addEventListener("resize",resizeThrottler,false)}};return smoothScroll});(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.ES6Promise=factory()})(this,function(){"use strict";function objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}function isFunction(x){return typeof x==="function"}var _isArray=undefined;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{_isArray=Array.isArray}var isArray=_isArray;var len=0;var vertxNext=undefined;var customSchedulerFn=undefined;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!=="undefined"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!=="undefined"){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var r=require;var vertx=r("vertx");vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=undefined;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&typeof require==="function"){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var _arguments=arguments;var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){(function(){var callback=_arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})})()}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(noop);_resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(16);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var GET_THEN_ERROR=new ErrorObject;function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function getThen(promise){try{return promise.then}catch(error){GET_THEN_ERROR.error=error;return GET_THEN_ERROR}}function tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then){asap(function(promise){var sealed=false;var error=tryThen(then,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){_resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;_reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;_reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){_reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return _resolve(promise,value)},function(reason){return _reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$){if(maybeThenable.constructor===promise.constructor&&then$$===then&&maybeThenable.constructor.resolve===resolve){handleOwnThenable(promise,maybeThenable)}else{if(then$$===GET_THEN_ERROR){_reject(promise,GET_THEN_ERROR.error);GET_THEN_ERROR.error=null}else if(then$$===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$)){handleForeignThenable(promise,maybeThenable,then$$)}else{fulfill(promise,maybeThenable)}}}function _resolve(promise,value){if(promise===value){_reject(promise,selfFulfillment())}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value))}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function _reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=undefined,callback=undefined,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function ErrorObject(){this.error=null}var TRY_CATCH_ERROR=new ErrorObject;function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=undefined,error=undefined,succeeded=undefined,failed=undefined;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null}else{succeeded=true}if(promise===value){_reject(promise,cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){_resolve(promise,value)}else if(failed){_reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){_reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){_resolve(promise,value)},function rejectPromise(reason){_reject(promise,reason)})}catch(e){_reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this._input=input;this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){fulfill(this.promise,this._result)}}}else{_reject(this.promise,validationError())}}function validationError(){return new Error("Array Methods must be provided an Array")}Enumerator.prototype._enumerate=function(){var length=this.length;var _input=this._input;for(var i=0;this._state===PENDING&&i<length;i++){this._eachEntry(_input[i],i)}};Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;var resolve$$=c.resolve;if(resolve$$===resolve){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!=="function"){this._remaining--;this._result[i]=entry}else if(c===Promise){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$){return resolve$$(entry)}),i)}}else{this._willSettleAt(resolve$$(entry),i)}};Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){_reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})};function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError("You must pass an array to race."))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject(reason){var Constructor=this;var promise=new Constructor(noop);_reject(promise,reason);return promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Promise(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=="function"&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew()}}Promise.all=all;Promise.race=race;Promise.resolve=resolve;Promise.reject=reject;Promise._setScheduler=setScheduler;Promise._setAsap=setAsap;Promise._asap=asap;Promise.prototype={constructor:Promise,then:then,catch:function _catch(onRejection){return this.then(null,onRejection)}};function polyfill(){var local=undefined;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString==="[object Promise]"&&!P.cast){return}}local.Promise=Promise}Promise.polyfill=polyfill;Promise.Promise=Promise;return Promise});(function(){"use strict";if(self.fetch){return}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}list.push(value)};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}function readBlobAsText(blob){var reader=new FileReader;reader.readAsText(blob);return fileReaderReady(reader)}var support={blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(!body){this._bodyText=""}else if(support.arrayBuffer&&ArrayBuffer.prototype.isPrototypeOf(body)){}else{throw new Error("unsupported BodyInit type")}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}else{this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)}}if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(Request.prototype.isPrototypeOf(input)){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;if(!body){body=input._bodyInit;input.bodyUsed=true}}else{this.url=input}this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this)};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function headers(xhr){var head=new Headers;var pairs=xhr.getAllResponseHeaders().trim().split("\n");pairs.forEach(function(header){var split=header.trim().split(":");var key=split.shift().trim();var value=split.join(":").trim();head.append(key,value)});return head}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this._initBody(bodyInit);this.type="default";this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||""}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request;if(Request.prototype.isPrototypeOf(input)&&!init){request=input}else{request=new Request(input,init)}var xhr=new XMLHttpRequest;function responseURL(){if("responseURL"in xhr){return xhr.responseURL}if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){return xhr.getResponseHeader("X-Request-URL")}return}xhr.onload=function(){var status=xhr.status===1223?204:xhr.status;if(status<100||status>599){reject(new TypeError("Network request failed"));return}var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})();console.info("%cCopyright  2017 Halyul\n"+"Theme Version: 1.4.1"+"%c\nhttps://github.com/Halyul/hexo-theme-mdui","font-size: 14px;color: #3F51B5;","color: #448AFF;text-decoration: none");var $$=mdui.JQ;(function(){$$(document).ready(function(){smoothScroll.init({selector:"a",offset:60})});$$(".toTop").on("click",function(){$$("button#toTop").trigger("click")})})();(function(){$$(document).on("open.mdui.dialog",".mdui-dialog",function(){$$("html").css("overflow-y","hidden");$$("body").removeClass("drawer-overlay-none")});$$(document).on("close.mdui.dialog",".mdui-dialog",function(){$$("html").css("overflow-y","auto");$$("body").addClass("drawer-overlay-none")})})();